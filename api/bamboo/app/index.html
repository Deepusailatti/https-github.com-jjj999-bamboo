
<!doctype html>
<html lang="ja" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="The fast, beautiful and hackable Python web framework.">
      
      
      
      
        <link rel="canonical" href="https://jjj999.github.io/bamboo/api/bamboo/app/">
      
      <link rel="icon" href="../../../res/take.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.1.11">
    
    
      
        <title>app - bamboo</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.3754935a.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.f1a3b89f.min.css">
        
          
          
          <meta name="theme-color" content="#4cae4f">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="green" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#app" class="md-skip">
          コンテンツにスキップ
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="ヘッダー">
    <a href="../../.." title="bamboo" class="md-header__button md-logo" aria-label="bamboo" data-md-component="logo">
      
  <img src="../../../res/take.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            bamboo
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              app
            
          </span>
        </div>
      </div>
    </div>
    
    
      <div class="md-header__option">
        <div class="md-select">
          
          <button class="md-header__button md-icon" aria-label="Select language">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24z"/></svg>
          </button>
          <div class="md-select__inner">
            <ul class="md-select__list">
              
                <li class="md-select__item">
                  <a href="/" hreflang="ja" class="md-select__link">
                    日本語
                  </a>
                </li>
                
            </ul>
          </div>
        </div>
      </div>
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="検索" placeholder="検索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="クリア" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            検索を初期化
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/jjj999/bamboo/" title="リポジトリへ" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    jjj999/bamboo
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="タブ" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../tutorials/concept/" class="md-tabs__link">
        Tutorials
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../advanced/db_integration/" class="md-tabs__link">
        Advanced Topics
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../deploy/heroku/" class="md-tabs__link">
        Deployment
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../background/" class="md-tabs__link">
      Background
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../pkg/" class="md-tabs__link md-tabs__link--active">
        API References
      </a>
    </li>
  

  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="ナビゲーション" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="bamboo" class="md-nav__button md-logo" aria-label="bamboo" data-md-component="logo">
      
  <img src="../../../res/take.png" alt="logo">

    </a>
    bamboo
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/jjj999/bamboo/" title="リポジトリへ" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    jjj999/bamboo
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" data-md-state="indeterminate" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        Tutorials
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/concept/" class="md-nav__link">
        bamboo のコンセプト
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/sample_app/" class="md-nav__link">
        サンプルアプリケーションを実装してみる
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/routing/" class="md-nav__link">
        ルーティング
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/headers/" class="md-nav__link">
        ヘッダーの取扱い
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/query_params/" class="md-nav__link">
        クエリパラメータの取扱い
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/define_api/" class="md-nav__link">
        API の定義
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/huge_data_transportation/" class="md-nav__link">
        巨大なデータの転送
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/make_endpoint_component/" class="md-nav__link">
        エンドポイントの拡張
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/error_handling/" class="md-nav__link">
        エラーハンドリング
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/test/" class="md-nav__link">
        アプリケーションのテスト
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/various_endpoints/" class="md-nav__link">
        エンドポイントの種類
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/sticky/" class="md-nav__link">
        コールバックの修飾
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/cache/" class="md-nav__link">
        キャッシュに関する設定
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/cookie/" class="md-nav__link">
        Cookie に関する設定
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/security/" class="md-nav__link">
        セキュリティを強化する
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/websocket/" class="md-nav__link">
        WebSocket アプリケーションの実装
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" data-md-state="indeterminate" type="checkbox" id="__nav_3" checked>
      
      <label class="md-nav__link" for="__nav_3">
        Advanced Topics
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Advanced Topics" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Advanced Topics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../advanced/db_integration/" class="md-nav__link">
        データベースとの統合
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../advanced/flowchart/" class="md-nav__link">
        フローチャートを描く
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../advanced/microservices/" class="md-nav__link">
        マイクロサービスアーキテクチャ
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../advanced/dapr/" class="md-nav__link">
        dapr との連携
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../advanced/packaging/" class="md-nav__link">
        アプリケーションのパッケージング
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" data-md-state="indeterminate" type="checkbox" id="__nav_4" checked>
      
      <label class="md-nav__link" for="__nav_4">
        Deployment
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Deployment" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Deployment
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../deploy/heroku/" class="md-nav__link">
        Heroku を利用したアプリケーションのデプロイ
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../background/" class="md-nav__link">
        Background
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      <label class="md-nav__link" for="__nav_6">
        API References
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="API References" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          API References
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_1" type="checkbox" id="__nav_6_1" checked>
      
      <label class="md-nav__link" for="__nav_6_1">
        bamboo
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="bamboo" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_1">
          <span class="md-nav__icon md-icon"></span>
          bamboo
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../pkg/" class="md-nav__link">
        bamboo
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        api
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          app
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        app
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#bamboo.app" class="md-nav__link">
    bamboo.app
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.app.AppBase" class="md-nav__link">
    AppBase
  </a>
  
    <nav class="md-nav" aria-label="AppBase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.app.AppBase.tree" class="md-nav__link">
    tree
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.AppBase.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.AppBase.graft" class="md-nav__link">
    graft()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.AppBase.route" class="md-nav__link">
    route()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.AppBase.search_uris" class="md-nav__link">
    search_uris()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.AppBase.set_parcel" class="md-nav__link">
    set_parcel()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.AppBase.validate" class="md-nav__link">
    validate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.app.ASGIApp" class="md-nav__link">
    ASGIApp
  </a>
  
    <nav class="md-nav" aria-label="ASGIApp">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ASGIApp.__call__" class="md-nav__link">
    __call__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ASGIApp.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ASGIApp.apply_lifespan_handler" class="md-nav__link">
    apply_lifespan_handler()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ASGIApp.handle_http" class="md-nav__link">
    handle_http()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ASGIApp.handle_lifespan" class="md-nav__link">
    handle_lifespan()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ASGIApp.handle_websocket" class="md-nav__link">
    handle_websocket()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ASGIApp.route" class="md-nav__link">
    route()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ASGIApp.search_uris" class="md-nav__link">
    search_uris()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ASGIApp.set_parcel" class="md-nav__link">
    set_parcel()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ASGIApp.validate" class="md-nav__link">
    validate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.app.ParcelConfig" class="md-nav__link">
    ParcelConfig
  </a>
  
    <nav class="md-nav" aria-label="ParcelConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ParcelConfig.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ParcelConfig.get" class="md-nav__link">
    get()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ParcelConfig.get_all" class="md-nav__link">
    get_all()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ParcelConfig.set" class="md-nav__link">
    set()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.app.VersionConfig" class="md-nav__link">
    VersionConfig
  </a>
  
    <nav class="md-nav" aria-label="VersionConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.app.VersionConfig.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.VersionConfig.get" class="md-nav__link">
    get()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.VersionConfig.get_all" class="md-nav__link">
    get_all()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.VersionConfig.set" class="md-nav__link">
    set()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.app.WSGIApp" class="md-nav__link">
    WSGIApp
  </a>
  
    <nav class="md-nav" aria-label="WSGIApp">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.app.WSGIApp.route" class="md-nav__link">
    route()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.WSGIApp.search_uris" class="md-nav__link">
    search_uris()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.WSGIApp.send_404" class="md-nav__link">
    send_404()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.WSGIApp.set_parcel" class="md-nav__link">
    set_parcel()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.WSGIApp.validate" class="md-nav__link">
    validate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../asgi/" class="md-nav__link">
        asgi
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../endpoint/" class="md-nav__link">
        endpoint
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../error/" class="md-nav__link">
        error
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../http/" class="md-nav__link">
        http
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../io/" class="md-nav__link">
        io
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../location/" class="md-nav__link">
        location
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../router/" class="md-nav__link">
        router
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../test/" class="md-nav__link">
        test
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_2" data-md-state="indeterminate" type="checkbox" id="__nav_6_2" checked>
      
      <label class="md-nav__link" for="__nav_6_2">
        bamboo.request
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="bamboo.request" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          bamboo.request
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../bamboo_request/pkg/" class="md-nav__link">
        bamboo.request
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../bamboo_request/http/" class="md-nav__link">
        bamboo.request.http
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../bamboo_request/https/" class="md-nav__link">
        bamboo.request.https
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_3" data-md-state="indeterminate" type="checkbox" id="__nav_6_3" checked>
      
      <label class="md-nav__link" for="__nav_6_3">
        bamboo.sticky
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="bamboo.sticky" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_3">
          <span class="md-nav__icon md-icon"></span>
          bamboo.sticky
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../bamboo_sticky/pkg/" class="md-nav__link">
        bamboo.sticky
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../bamboo_sticky/http/" class="md-nav__link">
        bamboo.sticky.http
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_4" data-md-state="indeterminate" type="checkbox" id="__nav_6_4" checked>
      
      <label class="md-nav__link" for="__nav_6_4">
        bamboo.util
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="bamboo.util" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_4">
          <span class="md-nav__icon md-icon"></span>
          bamboo.util
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../bamboo_util/pkg/" class="md-nav__link">
        bamboo.util
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../bamboo_util/convert/" class="md-nav__link">
        bamboo.util.convert
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../bamboo_util/deco/" class="md-nav__link">
        bamboo.util.deco
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../bamboo_util/string/" class="md-nav__link">
        bamboo.util.string
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../bamboo_util/time/" class="md-nav__link">
        bamboo.util.time
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#bamboo.app" class="md-nav__link">
    bamboo.app
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.app.AppBase" class="md-nav__link">
    AppBase
  </a>
  
    <nav class="md-nav" aria-label="AppBase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.app.AppBase.tree" class="md-nav__link">
    tree
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.AppBase.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.AppBase.graft" class="md-nav__link">
    graft()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.AppBase.route" class="md-nav__link">
    route()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.AppBase.search_uris" class="md-nav__link">
    search_uris()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.AppBase.set_parcel" class="md-nav__link">
    set_parcel()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.AppBase.validate" class="md-nav__link">
    validate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.app.ASGIApp" class="md-nav__link">
    ASGIApp
  </a>
  
    <nav class="md-nav" aria-label="ASGIApp">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ASGIApp.__call__" class="md-nav__link">
    __call__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ASGIApp.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ASGIApp.apply_lifespan_handler" class="md-nav__link">
    apply_lifespan_handler()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ASGIApp.handle_http" class="md-nav__link">
    handle_http()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ASGIApp.handle_lifespan" class="md-nav__link">
    handle_lifespan()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ASGIApp.handle_websocket" class="md-nav__link">
    handle_websocket()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ASGIApp.route" class="md-nav__link">
    route()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ASGIApp.search_uris" class="md-nav__link">
    search_uris()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ASGIApp.set_parcel" class="md-nav__link">
    set_parcel()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ASGIApp.validate" class="md-nav__link">
    validate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.app.ParcelConfig" class="md-nav__link">
    ParcelConfig
  </a>
  
    <nav class="md-nav" aria-label="ParcelConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ParcelConfig.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ParcelConfig.get" class="md-nav__link">
    get()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ParcelConfig.get_all" class="md-nav__link">
    get_all()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.ParcelConfig.set" class="md-nav__link">
    set()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.app.VersionConfig" class="md-nav__link">
    VersionConfig
  </a>
  
    <nav class="md-nav" aria-label="VersionConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.app.VersionConfig.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.VersionConfig.get" class="md-nav__link">
    get()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.VersionConfig.get_all" class="md-nav__link">
    get_all()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.VersionConfig.set" class="md-nav__link">
    set()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.app.WSGIApp" class="md-nav__link">
    WSGIApp
  </a>
  
    <nav class="md-nav" aria-label="WSGIApp">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.app.WSGIApp.route" class="md-nav__link">
    route()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.WSGIApp.search_uris" class="md-nav__link">
    search_uris()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.WSGIApp.send_404" class="md-nav__link">
    send_404()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.WSGIApp.set_parcel" class="md-nav__link">
    set_parcel()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.app.WSGIApp.validate" class="md-nav__link">
    validate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/jjj999/bamboo/edit/master/docs/api/bamboo/app.md" title="編集" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="app">app</h1>


  <div class="doc doc-object doc-module">

<a id="bamboo.app"></a>
    <div class="doc doc-contents first">




  <div class="doc doc-children">













  <div class="doc doc-object doc-class">



<h2 class="doc doc-heading" id="bamboo.app.AppBase">
        <code>AppBase</code>



</h2>

    <div class="doc doc-contents ">

      <p>Base class of all application in Bamboo.</p>
<p>Bamboo has two core concepts called application and endpoint, and
this class implements basic behavior of the former, e.g. containing
multiple endpoints, routing requests from URIs to endpoints and so on.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This class is an abstract class. Consider using its subclasses.</p>
</div>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>TAG_VERSION</code></td>
        <td><code>str</code></td>
        <td><p>Tag used when versions of <code>Endpoint</code>s are inserted
in front of paths of URIs. If you want, you can override the
value and set new favorite tag. By default, the tag is 'v'.</p></td>
      </tr>
  </tbody>
</table>



  <div class="doc doc-children">







  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.app.AppBase.tree">
<code class="highlight language-python"><span class="n">tree</span><span class="p">:</span> <span class="n">Uri2Endpoints_t</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Tree of the application's endpoints.</p>
    </div>

  </div>







  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.AppBase.__init__">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">error_404</span><span class="o">=</span><span class="n">DefaultNotFoundErrInfo</span><span class="p">())</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">


<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>error_404</code></td>
        <td><code>ErrInfo</code></td>
        <td><p>Error sending if a request to not registered URI or
HTTP method comes.</p></td>
        <td><code>DefaultNotFoundErrInfo()</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">error_404</span><span class="p">:</span> <span class="n">ErrInfo</span> <span class="o">=</span> <span class="n">DEFAULT_NOT_FOUND_ERROR</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        error_404: Error sending if a request to not registered URI or</span>
<span class="sd">            HTTP method comes.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_router</span><span class="p">:</span> <span class="n">Router</span><span class="p">[</span><span class="n">Endpoint_t</span><span class="p">]</span> <span class="o">=</span> <span class="n">Router</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_error_404</span> <span class="o">=</span> <span class="n">error_404</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.AppBase.graft">
<code class="highlight language-python"><span class="n">graft</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">apps</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">onto</span><span class="o">=</span><span class="p">())</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Graft other applications as branches of the application's tree.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>*apps</code></td>
        <td><code>AppBase</code></td>
        <td><p>Branch applications.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>onto</code></td>
        <td><code>t.Tuple[StaticLocation_t, ...]</code></td>
        <td><p>Root path of the branches.</p></td>
        <td><code>()</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">graft</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="o">*</span><span class="n">apps</span><span class="p">:</span> <span class="n">AppBase</span><span class="p">,</span>
    <span class="n">onto</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="n">StaticLocation_t</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span> <span class="o">=</span> <span class="p">()</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Graft other applications as branches of the application&#39;s tree.</span>

<span class="sd">    Args:</span>
<span class="sd">        *apps: Branch applications.</span>
<span class="sd">        onto: Root path of the branches.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">app</span> <span class="ow">in</span> <span class="n">apps</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">locs</span><span class="p">,</span> <span class="n">endpoint</span> <span class="ow">in</span> <span class="n">app</span><span class="o">.</span><span class="n">_router</span><span class="o">.</span><span class="n">_raw_uri2endpoint</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">locs</span> <span class="o">=</span> <span class="n">onto</span> <span class="o">+</span> <span class="n">locs</span>

            <span class="n">ver_config</span> <span class="o">=</span> <span class="n">VersionConfig</span><span class="p">(</span><span class="n">endpoint</span><span class="p">)</span>
            <span class="n">version</span> <span class="o">=</span> <span class="n">ver_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
            <span class="n">ver_config</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">version</span><span class="p">):</span>
                <span class="n">version</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">TAG_VERSION</span><span class="si">}{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">version</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_router</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">locs</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.AppBase.route">
<code class="highlight language-python"><span class="n">route</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">locs</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Register combination of URI and <code>Endpoint</code> for routing.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>*locs</code></td>
        <td><code>Location_t</code></td>
        <td><p>Locations of path of the URI bound with the <code>Endpoint</code>.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>version</code></td>
        <td><code>t.Union[int, t.Tuple[int], None]</code></td>
        <td><p>Version of the <code>Endpoint</code>.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.Callable[[t.Type[Endpoint_t]], t.Type[Endpoint_t]]</code></td>
      <td><p>Decorator to add combination of URI and <code>Endpoint</code>.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">()</span>

<span class="c1"># Set path of URI as `test/data/image` and the version as 1</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">MockEndpoint</span><span class="p">(</span><span class="n">Endpoint</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">do_GET</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Do something...</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">route</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="o">*</span><span class="n">locs</span><span class="p">:</span> <span class="n">Location_t</span><span class="p">,</span>
    <span class="n">version</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">t</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">Endpoint_t</span><span class="p">]],</span> <span class="n">t</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">Endpoint_t</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Register combination of URI and `Endpoint` for routing.</span>

<span class="sd">    Args:</span>
<span class="sd">        *locs: Locations of path of the URI bound with the `Endpoint`.</span>
<span class="sd">        version : Version of the `Endpoint`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Decorator to add combination of URI and `Endpoint`.</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        app = App()</span>

<span class="sd">        # Set path of URI as `test/data/image` and the version as 1</span>
<span class="sd">        @app.route(&quot;test&quot;, &quot;data&quot;, &quot;image&quot;, version=1)</span>
<span class="sd">        class MockEndpoint(Endpoint):</span>

<span class="sd">            def do_GET(self) -&gt; None:</span>
<span class="sd">                # Do something...</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">register_endpoint</span><span class="p">(</span>
        <span class="n">endpoint</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">Endpoint_t</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">Endpoint_t</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">endpoint</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__avalidable_endpoints</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">endpoint</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> is not avalidable in &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;the </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="n">locs_normalized</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">([</span><span class="n">loc</span> <span class="k">for</span> <span class="n">loc</span> <span class="ow">in</span> <span class="n">locs</span> <span class="k">if</span> <span class="n">loc</span><span class="p">])</span>

        <span class="c1"># version setting</span>
        <span class="n">ver_config</span> <span class="o">=</span> <span class="n">VersionConfig</span><span class="p">(</span><span class="n">endpoint</span><span class="p">)</span>
        <span class="n">ver_config</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="p">)</span>

        <span class="c1"># router setting</span>
        <span class="n">_version</span> <span class="o">=</span> <span class="n">ver_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">_version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">_version</span><span class="p">):</span>
            <span class="n">_version</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">TAG_VERSION</span><span class="si">}{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">_version</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_router</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">locs_normalized</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="n">_version</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">endpoint</span>
    <span class="k">return</span> <span class="n">register_endpoint</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.AppBase.search_uris">
<code class="highlight language-python"><span class="n">search_uris</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Retrieve all URI patterns of <code>Endpoint</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method uses <code>bamboo.Router.search_uris()</code> method inner.
For more information, see the API document.</p>
</div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>endpoint</code></td>
        <td><code>t.Type[Endpoint_t]</code></td>
        <td><p><code>Endpoint</code> whose URIs to be searched.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.List[Uri_t]</code></td>
      <td><p>Result of searching.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">search_uris</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">Endpoint_t</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">Uri_t</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Retrieve all URI patterns of `Endpoint`.</span>

<span class="sd">    Note:</span>
<span class="sd">        This method uses `bamboo.Router.search_uris()` method inner.</span>
<span class="sd">        For more information, see the API document.</span>

<span class="sd">    Args:</span>
<span class="sd">        endpoint: `Endpoint` whose URIs to be searched.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Result of searching.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_router</span><span class="o">.</span><span class="n">search_uris</span><span class="p">(</span><span class="n">endpoint</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.AppBase.set_parcel">
<code class="highlight language-python"><span class="n">set_parcel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">,</span> <span class="o">*</span><span class="n">parcel</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Set parcel to an endpoint.</p>
<p>This method enables to give objects to <code>Endpoint</code> objects
dynamically. A parcel is a set of objects delivered via the method,
and the <code>Endpoint</code> object of its destination receives it at
<code>EndpointBase.setup()</code> method.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about the <code>bamboo.EndpointBase.setup()</code>,
see the API document.</p>
</div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>endpoint</code></td>
        <td><code>t.Type[Endpoint_t]</code></td>
        <td><p><code>Endpoint</code> the <code>parcel</code> to be set.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>*parcel</code></td>
        <td><code>t.Any</code></td>
        <td><p>Pacel to be given to the <code>Endpoint</code>.</p></td>
        <td><code>()</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_parcel</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">endpoint</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">Endpoint_t</span><span class="p">],</span>
    <span class="o">*</span><span class="n">parcel</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AppBase</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Set parcel to an endpoint.</span>

<span class="sd">    This method enables to give objects to `Endpoint` objects</span>
<span class="sd">    dynamically. A parcel is a set of objects delivered via the method,</span>
<span class="sd">    and the `Endpoint` object of its destination receives it at</span>
<span class="sd">    `EndpointBase.setup()` method.</span>

<span class="sd">    Note:</span>
<span class="sd">        For more information about the `bamboo.EndpointBase.setup()`,</span>
<span class="sd">        see the API document.</span>

<span class="sd">    Args:</span>
<span class="sd">        endpoint: `Endpoint` the `parcel` to be set.</span>
<span class="sd">        *parcel: Pacel to be given to the `Endpoint`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">parcel_config</span> <span class="o">=</span> <span class="n">ParcelConfig</span><span class="p">(</span><span class="n">endpoint</span><span class="p">)</span>
    <span class="n">parcel_config</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parcel</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.AppBase.validate">
<code class="highlight language-python"><span class="n">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uri</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Validate specified <code>uri</code> and retrieve corresponding <code>Endpoint</code> class.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method uses <code>bamboo.Router.validate()</code> method inner.
For more information, see the API document.</p>
</div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>uri</code></td>
        <td><code>str</code></td>
        <td><p>Path of URI to be validated.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.Tuple[t.Tuple[str, ...], t.Optional[t.Type[Endpoint_t]]]</code></td>
      <td><p>Pair of values of flexible locations and <code>Endpoint</code> class if specified
<code>uri</code> is valid, otherwise, pari of empty tuple and None.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">validate</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">Endpoint_t</span><span class="p">]]]:</span>
    <span class="sd">&quot;&quot;&quot;Validate specified `uri` and retrieve corresponding `Endpoint` class.</span>

<span class="sd">    Note:</span>
<span class="sd">        This method uses `bamboo.Router.validate()` method inner.</span>
<span class="sd">        For more information, see the API document.</span>

<span class="sd">    Args:</span>
<span class="sd">        uri: Path of URI to be validated.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Pair of values of flexible locations and `Endpoint` class if specified</span>
<span class="sd">        `uri` is valid, otherwise, pari of empty tuple and None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_router</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 class="doc doc-heading" id="bamboo.app.ASGIApp">
        <code>ASGIApp</code>



</h2>

    <div class="doc doc-contents ">

      <p>Application compliant with the ASGI.</p>
<p>This class is a subclass of <code>AppBase</code> calss and implements the callbable
compliant with the ASGI.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This class can be used only for ASGI server. If you want to use
any WSGI servers, consider using <code>WSGIApp</code>.</p>
<p>This class can also route only <code>ASGIHTTPEndpoint</code>s and
<code>ASGIWebSocketEndpoint</code>s. If you want to another type of endpoint,
consider implementation class of its corresponding application.</p>
</div>




  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.ASGIApp.__call__">
<code class="highlight language-python"><span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scope</span><span class="p">,</span> <span class="n">recv</span><span class="p">,</span> <span class="n">send</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-async"><code>async</code></small>
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Handle requests compliant with the ASGI.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>scope</code></td>
        <td><code>t.Dict[str, t.Any]</code></td>
        <td><p>Connection scope in the ASGI.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>recv</code></td>
        <td><code>ASGIRecv_t</code></td>
        <td><p>Awaitable callable to receive new event data.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>send</code></td>
        <td><code>ASGISend_t</code></td>
        <td><p>Awaitable callable to send new event data.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">scope</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span>
    <span class="n">recv</span><span class="p">:</span> <span class="n">ASGIRecv_t</span><span class="p">,</span>
    <span class="n">send</span><span class="p">:</span> <span class="n">ASGISend_t</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Handle requests compliant with the ASGI.</span>

<span class="sd">    Args:</span>
<span class="sd">        scope: Connection scope in the ASGI.</span>
<span class="sd">        recv: Awaitable callable to receive new event data.</span>
<span class="sd">        send: Awaitable callable to send new event data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">typ</span> <span class="o">=</span> <span class="n">scope</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">typ</span> <span class="o">==</span> <span class="n">ASGIProtocols</span><span class="o">.</span><span class="n">http</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">handle_http</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="n">recv</span><span class="p">,</span> <span class="n">send</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">typ</span> <span class="o">==</span> <span class="n">ASGIProtocols</span><span class="o">.</span><span class="n">websocket</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">handle_websocket</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="n">recv</span><span class="p">,</span> <span class="n">send</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">typ</span> <span class="o">==</span> <span class="n">ASGIProtocols</span><span class="o">.</span><span class="n">lifespan</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">handle_lifespan</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="n">recv</span><span class="p">,</span> <span class="n">send</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.ASGIApp.__init__">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">error_404</span><span class="o">=</span><span class="n">DefaultNotFoundErrInfo</span><span class="p">(),</span> <span class="n">lifespan_handler</span><span class="o">=&lt;</span><span class="n">function</span> <span class="n">default_lifespan_handler</span> <span class="n">at</span> <span class="mh">0x7f28f4f14200</span><span class="o">&gt;</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">


<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>error_404</code></td>
        <td><code>ErrInfo</code></td>
        <td><p>Error sending if a request to not registered URI or
HTTP method comes.</p></td>
        <td><code>DefaultNotFoundErrInfo()</code></td>
      </tr>
      <tr>
        <td><code>lifespan_handler</code></td>
        <td><code>LifespanHandler_t</code></td>
        <td><p>A callback with the type <code>LifespanHandler_t</code>.</p></td>
        <td><code>&lt;function default_lifespan_handler at 0x7f28f4f14200&gt;</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">error_404</span><span class="p">:</span> <span class="n">ErrInfo</span> <span class="o">=</span> <span class="n">DEFAULT_NOT_FOUND_ERROR</span><span class="p">,</span>
    <span class="n">lifespan_handler</span><span class="p">:</span> <span class="n">LifespanHandler_t</span> <span class="o">=</span> <span class="n">default_lifespan_handler</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        error_404: Error sending if a request to not registered URI or</span>
<span class="sd">            HTTP method comes.</span>
<span class="sd">        lifespan_handler: A callback with the type `LifespanHandler_t`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">error_404</span><span class="o">=</span><span class="n">error_404</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_lifespan_handler</span> <span class="o">=</span> <span class="n">lifespan_handler</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.ASGIApp.apply_lifespan_handler">
<code class="highlight language-python"><span class="n">apply_lifespan_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lifespan_handler</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Apply a handler for the Lifespan protocol.</p>
<p>This method sets a callback with the type <code>LifespanHandler_t</code> to
handle requests with the Lifespan protocol. This method should be
called only if one intends to set one's custom callback.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>lifespan_handler</code></td>
        <td><code>LifespanHandler_t</code></td>
        <td><p>A callback with the type <code>LifespanHandler_t</code>.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">apply_lifespan_handler</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">lifespan_handler</span><span class="p">:</span> <span class="n">LifespanHandler_t</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Apply a handler for the Lifespan protocol.</span>

<span class="sd">    This method sets a callback with the type `LifespanHandler_t` to</span>
<span class="sd">    handle requests with the Lifespan protocol. This method should be</span>
<span class="sd">    called only if one intends to set one&#39;s custom callback.</span>

<span class="sd">    Args:</span>
<span class="sd">        lifespan_handler: A callback with the type `LifespanHandler_t`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_lifespan_handler</span> <span class="o">=</span> <span class="n">lifespan_handler</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.ASGIApp.handle_http">
<code class="highlight language-python"><span class="n">handle_http</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scope</span><span class="p">,</span> <span class="n">recv</span><span class="p">,</span> <span class="n">send</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-async"><code>async</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Handle requests with the HTTP protocol.</p>
<p>This method only handles requests with the HTTP and is used in
the <code>__call__()</code> method for the ASGI application. Therefore one
doesn't have to call this method if one just runs the application.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>scope</code></td>
        <td><code>t.Dict[str, t.Any]</code></td>
        <td><p>Connection scope in the ASGI.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>recv</code></td>
        <td><code>ASGIRecv_t</code></td>
        <td><p>Awaitable callable to receive new event data.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>send</code></td>
        <td><code>ASGISend_t</code></td>
        <td><p>Awaitable callable to send new event data.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">handle_http</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">scope</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span>
    <span class="n">recv</span><span class="p">:</span> <span class="n">ASGIRecv_t</span><span class="p">,</span>
    <span class="n">send</span><span class="p">:</span> <span class="n">ASGISend_t</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Handle requests with the HTTP protocol.</span>

<span class="sd">    This method only handles requests with the HTTP and is used in</span>
<span class="sd">    the `__call__()` method for the ASGI application. Therefore one</span>
<span class="sd">    doesn&#39;t have to call this method if one just runs the application.</span>

<span class="sd">    Args:</span>
<span class="sd">        scope: Connection scope in the ASGI.</span>
<span class="sd">        recv: Awaitable callable to receive new event data.</span>
<span class="sd">        send: Awaitable callable to send new event data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">method</span> <span class="o">=</span> <span class="n">scope</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;method&quot;</span><span class="p">)</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">scope</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;path&quot;</span><span class="p">)</span>
    <span class="n">sendstart</span> <span class="o">=</span> <span class="n">get_http_sendstart</span><span class="p">(</span><span class="n">send</span><span class="p">)</span>
    <span class="n">sendbody</span> <span class="o">=</span> <span class="n">get_http_sendbody</span><span class="p">(</span><span class="n">send</span><span class="p">)</span>
    <span class="n">send_errinfo</span> <span class="o">=</span> <span class="n">get_http_send_errinfo</span><span class="p">(</span><span class="n">send</span><span class="p">)</span>

    <span class="n">flexible_locs</span><span class="p">,</span> <span class="n">endpoint_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">endpoint_class</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">send_errinfo</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_error_404</span><span class="p">,</span> <span class="p">())</span>
        <span class="k">return</span>

    <span class="n">parcel_config</span> <span class="o">=</span> <span class="n">ParcelConfig</span><span class="p">(</span><span class="n">endpoint_class</span><span class="p">)</span>
    <span class="n">parcel</span> <span class="o">=</span> <span class="n">parcel_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="n">pre_callback</span> <span class="o">=</span> <span class="n">endpoint_class</span><span class="o">.</span><span class="n">_get_pre_response_method</span><span class="p">(</span><span class="n">method</span><span class="p">)</span>
    <span class="n">callback</span> <span class="o">=</span> <span class="n">endpoint_class</span><span class="o">.</span><span class="n">_get_response_method</span><span class="p">(</span><span class="n">method</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">callback</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">send_errinfo</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_error_404</span><span class="p">,</span> <span class="p">())</span>
        <span class="k">return</span>

    <span class="n">endpoint</span> <span class="o">=</span> <span class="n">endpoint_class</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scope</span><span class="p">,</span> <span class="n">recv</span><span class="p">,</span> <span class="n">flexible_locs</span><span class="p">)</span>
    <span class="c1"># NOTE</span>
    <span class="c1">#   Subclasses of the ErrInfo must be raised in pre-response</span>
    <span class="c1">#   methods or response methods. Otherwise, the errors behave</span>
    <span class="c1">#   like ordinary exception objects.</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">endpoint</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="o">*</span><span class="n">parcel</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">pre_callback</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">pre_callback</span><span class="p">(</span><span class="n">endpoint</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">callback</span><span class="p">(</span><span class="n">endpoint</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">ErrInfo</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">send_errinfo</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">.</span><span class="n">_res_headers</span><span class="p">)</span>
        <span class="k">return</span>

        <span class="c1"># NOTE</span>
        <span class="c1">#   Other exceptions not inheriting the ErrInfo class</span>
        <span class="c1">#   are not to be catched here.</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">status</span> <span class="o">=</span> <span class="n">endpoint</span><span class="o">.</span><span class="n">_res_status</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="n">endpoint</span><span class="o">.</span><span class="n">_res_headers</span>
        <span class="n">body</span> <span class="o">=</span> <span class="n">endpoint</span><span class="o">.</span><span class="n">_res_body</span>

    <span class="k">await</span> <span class="n">sendstart</span><span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">sendbody</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.ASGIApp.handle_lifespan">
<code class="highlight language-python"><span class="n">handle_lifespan</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scope</span><span class="p">,</span> <span class="n">recv</span><span class="p">,</span> <span class="n">send</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-async"><code>async</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Handle requests with the Lifespan protocol.</p>
<p>This method only handles requests with the Lifespan and is used in
the <code>__call__()</code> method for the ASGI application. Therefore one
doesn't have to call this method if one just runs the application.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>scope</code></td>
        <td><code>t.Dict[str, t.Any]</code></td>
        <td><p>Connection scope in the ASGI.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>recv</code></td>
        <td><code>ASGIRecv_t</code></td>
        <td><p>Awaitable callable to receive new event data.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>send</code></td>
        <td><code>ASGISend_t</code></td>
        <td><p>Awaitable callable to send new event data.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">handle_lifespan</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">scope</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span>
    <span class="n">recv</span><span class="p">:</span> <span class="n">ASGIRecv_t</span><span class="p">,</span>
    <span class="n">send</span><span class="p">:</span> <span class="n">ASGISend_t</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Handle requests with the Lifespan protocol.</span>

<span class="sd">    This method only handles requests with the Lifespan and is used in</span>
<span class="sd">    the `__call__()` method for the ASGI application. Therefore one</span>
<span class="sd">    doesn&#39;t have to call this method if one just runs the application.</span>

<span class="sd">    Args:</span>
<span class="sd">        scope: Connection scope in the ASGI.</span>
<span class="sd">        recv: Awaitable callable to receive new event data.</span>
<span class="sd">        send: Awaitable callable to send new event data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lifespan_handler</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="n">recv</span><span class="p">,</span> <span class="n">send</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.ASGIApp.handle_websocket">
<code class="highlight language-python"><span class="n">handle_websocket</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scope</span><span class="p">,</span> <span class="n">recv</span><span class="p">,</span> <span class="n">send</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-async"><code>async</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Handle requests with the WebSocket protocol.</p>
<p>This method only handles requests with the WebSocket and is used in
the <code>__call__()</code> method for the ASGI application. Therefore one
doesn't have to call this method if one just runs the application.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>scope</code></td>
        <td><code>t.Dict[str, t.Any]</code></td>
        <td><p>Connection scope in the ASGI.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>recv</code></td>
        <td><code>ASGIRecv_t</code></td>
        <td><p>Awaitable callable to receive new event data.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>send</code></td>
        <td><code>ASGISend_t</code></td>
        <td><p>Awaitable callable to send new event data.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">handle_websocket</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">scope</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span>
    <span class="n">recv</span><span class="p">:</span> <span class="n">ASGIRecv_t</span><span class="p">,</span>
    <span class="n">send</span><span class="p">:</span> <span class="n">ASGISend_t</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Handle requests with the WebSocket protocol.</span>

<span class="sd">    This method only handles requests with the WebSocket and is used in</span>
<span class="sd">    the `__call__()` method for the ASGI application. Therefore one</span>
<span class="sd">    doesn&#39;t have to call this method if one just runs the application.</span>

<span class="sd">    Args:</span>
<span class="sd">        scope: Connection scope in the ASGI.</span>
<span class="sd">        recv: Awaitable callable to receive new event data.</span>
<span class="sd">        send: Awaitable callable to send new event data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">scope</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;path&quot;</span><span class="p">)</span>

    <span class="n">flexible_locs</span><span class="p">,</span> <span class="n">endpoint_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">endpoint_class</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_404</span><span class="p">(</span><span class="n">send</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="n">parcel_config</span> <span class="o">=</span> <span class="n">ParcelConfig</span><span class="p">(</span><span class="n">endpoint_class</span><span class="p">)</span>
    <span class="n">parcel</span> <span class="o">=</span> <span class="n">parcel_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="n">endpoint</span> <span class="o">=</span> <span class="n">endpoint_class</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scope</span><span class="p">,</span> <span class="n">flexible_locs</span><span class="p">,</span> <span class="o">*</span><span class="n">parcel</span><span class="p">)</span>

    <span class="c1"># Establish connection</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="k">await</span> <span class="n">recv</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">msg</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">ASGIWebSocketEvents</span><span class="o">.</span><span class="n">connect</span>
    <span class="n">accept</span> <span class="o">=</span> <span class="n">get_websock_accept</span><span class="p">(</span><span class="n">send</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">endpoint</span><span class="o">.</span><span class="n">do_ACCEPT</span><span class="p">(</span><span class="n">accept</span><span class="p">)</span>

    <span class="c1"># Main communications</span>
    <span class="n">recvmsg</span> <span class="o">=</span> <span class="n">get_websock_recvmsg</span><span class="p">(</span><span class="n">recv</span><span class="p">)</span>
    <span class="n">sendmsg</span> <span class="o">=</span> <span class="n">get_websock_sendmsg</span><span class="p">(</span><span class="n">send</span><span class="p">)</span>
    <span class="n">close</span> <span class="o">=</span> <span class="n">get_websock_close</span><span class="p">(</span><span class="n">send</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">endpoint</span><span class="o">.</span><span class="n">do_COMMUNICATE</span><span class="p">(</span><span class="n">recvmsg</span><span class="p">,</span> <span class="n">sendmsg</span><span class="p">,</span> <span class="n">close</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.ASGIApp.route">
<code class="highlight language-python"><span class="n">route</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">locs</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Register combination of URI and <code>Endpoint</code> for routing.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>*locs</code></td>
        <td><code>Location_t</code></td>
        <td><p>Locations of path of the URI bound with the <code>Endpoint</code>.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>version</code></td>
        <td><code>t.Union[int, t.Tuple[int], None]</code></td>
        <td><p>Version of the <code>Endpoint</code>.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.Callable[[t.Type[ASGIEndpointBase]], t.Type[ASGIEndpointBase]]</code></td>
      <td><p>Decorator to add combination of URI and <code>Endpoint</code>.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">()</span>

<span class="c1"># Set path of URI as `test/data/image` and the version as 1</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">MockEndpoint</span><span class="p">(</span><span class="n">Endpoint</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">do_GET</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Do something...</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">route</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="o">*</span><span class="n">locs</span><span class="p">:</span> <span class="n">Location_t</span><span class="p">,</span>
    <span class="n">version</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">t</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">ASGIEndpointBase</span><span class="p">]],</span> <span class="n">t</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">ASGIEndpointBase</span><span class="p">]]:</span>
    <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="o">*</span><span class="n">locs</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.ASGIApp.search_uris">
<code class="highlight language-python"><span class="n">search_uris</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Retrieve all URI patterns of <code>Endpoint</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method uses <code>bamboo.Router.search_uris()</code> method inner.
For more information, see the API document.</p>
</div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>endpoint</code></td>
        <td><code>t.Type[ASGIHTTPEndpoint]</code></td>
        <td><p><code>Endpoint</code> whose URIs to be searched.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.List[Uri_t]</code></td>
      <td><p>Result of searching.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">search_uris</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">endpoint</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">ASGIHTTPEndpoint</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">Uri_t</span><span class="p">]:</span>
    <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">search_uris</span><span class="p">(</span><span class="n">endpoint</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.ASGIApp.set_parcel">
<code class="highlight language-python"><span class="n">set_parcel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">,</span> <span class="o">*</span><span class="n">parcel</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Set parcel to an endpoint.</p>
<p>This method enables to give objects to <code>Endpoint</code> objects
dynamically. A parcel is a set of objects delivered via the method,
and the <code>Endpoint</code> object of its destination receives it at
<code>EndpointBase.setup()</code> method.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about the <code>bamboo.EndpointBase.setup()</code>,
see the API document.</p>
</div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>endpoint</code></td>
        <td><code>t.Type[ASGIEndpointBase]</code></td>
        <td><p><code>Endpoint</code> the <code>parcel</code> to be set.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>*parcel</code></td>
        <td><code>t.Any</code></td>
        <td><p>Pacel to be given to the <code>Endpoint</code>.</p></td>
        <td><code>()</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_parcel</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">endpoint</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">ASGIEndpointBase</span><span class="p">],</span>
    <span class="o">*</span><span class="n">parcel</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ASGIApp</span><span class="p">:</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">set_parcel</span><span class="p">(</span><span class="n">endpoint</span><span class="p">,</span> <span class="o">*</span><span class="n">parcel</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.ASGIApp.validate">
<code class="highlight language-python"><span class="n">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uri</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Validate specified <code>uri</code> and retrieve corresponding <code>Endpoint</code> class.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method uses <code>bamboo.Router.validate()</code> method inner.
For more information, see the API document.</p>
</div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>uri</code></td>
        <td><code>str</code></td>
        <td><p>Path of URI to be validated.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.Tuple[t.Tuple[str, ...], t.Optional[t.Type[ASGIEndpointBase]]]</code></td>
      <td><p>Pair of values of flexible locations and <code>Endpoint</code> class if specified
<code>uri</code> is valid, otherwise, pari of empty tuple and None.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">validate</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">ASGIEndpointBase</span><span class="p">]]]:</span>
    <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 class="doc doc-heading" id="bamboo.app.ParcelConfig">
        <code>ParcelConfig</code>



</h2>

    <div class="doc doc-contents ">

      <p>Operator class for parcel of <code>Endpoint</code>.</p>
<p>This class can be used to get and set parcel of <code>Endpoint</code> safely.</p>




  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.ParcelConfig.__init__">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">


<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>endpoint</code></td>
        <td><code>t.Type[EndpointBase]</code></td>
        <td><p><code>Endpoint</code> whose parcel is to be manipulated.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">EndpointBase</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        endpoint : `Endpoint` whose parcel is to be manipulated.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_endpoint_class</span> <span class="o">=</span> <span class="n">endpoint</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.ParcelConfig.get">
<code class="highlight language-python"><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Retrieve parcel belonging to specified <code>app</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>app</code></td>
        <td><code>AppBase</code></td>
        <td><p>Application including the internal <code>Endpoint</code></p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Parcel_t</code></td>
      <td><p>Parcel set to <code>Endpoint</code>, if not set yet, then <code>None</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">:</span> <span class="n">AppBase</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Parcel_t</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Retrieve parcel belonging to specified `app`.</span>

<span class="sd">    Args:</span>
<span class="sd">        app: Application including the internal `Endpoint`</span>

<span class="sd">    Returns:</span>
<span class="sd">        Parcel set to `Endpoint`, if not set yet, then `None`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endpoint_class</span><span class="p">,</span> <span class="n">ATTR_PARCEL</span><span class="p">):</span>
        <span class="n">registered</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endpoint_class</span><span class="p">,</span> <span class="n">ATTR_PARCEL</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">registered</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.ParcelConfig.get_all">
<code class="highlight language-python"><span class="n">get_all</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Retrieve parcels belonging to all <code>AppBase</code> objects.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.List[t.Tuple[AppBase, Parcel_t]]</code></td>
      <td><p>List of tuples of <code>AppBase</code> objects and their parcels.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_all</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="n">AppBase</span><span class="p">,</span> <span class="n">Parcel_t</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Retrieve parcels belonging to all `AppBase` objects.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of tuples of `AppBase` objects and their parcels.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endpoint_class</span><span class="p">,</span> <span class="n">ATTR_PARCEL</span><span class="p">):</span>
        <span class="n">registered</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endpoint_class</span><span class="p">,</span> <span class="n">ATTR_PARCEL</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[(</span><span class="n">app</span><span class="p">,</span> <span class="n">parcel</span><span class="p">)</span> <span class="k">for</span> <span class="n">app</span><span class="p">,</span> <span class="n">parcel</span> <span class="ow">in</span> <span class="n">registered</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
    <span class="k">return</span> <span class="p">[]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.ParcelConfig.set">
<code class="highlight language-python"><span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">,</span> <span class="n">parcel</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Ser parcel of <code>Endpoint</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>app</code></td>
        <td><code>AppBase</code></td>
        <td><p>Application including the internal <code>Endpoint</code>.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>parcel</code></td>
        <td><code>Parcel_t</code></td>
        <td><p>Parcel to be set.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">:</span> <span class="n">AppBase</span><span class="p">,</span> <span class="n">parcel</span><span class="p">:</span> <span class="n">Parcel_t</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Ser parcel of `Endpoint`.</span>

<span class="sd">    Args:</span>
<span class="sd">        app: Application including the internal `Endpoint`.</span>
<span class="sd">        parcel: Parcel to be set.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endpoint_class</span><span class="p">,</span> <span class="n">ATTR_PARCEL</span><span class="p">):</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endpoint_class</span><span class="p">,</span> <span class="n">ATTR_PARCEL</span><span class="p">,</span> <span class="p">{})</span>

    <span class="n">registered</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endpoint_class</span><span class="p">,</span> <span class="n">ATTR_PARCEL</span><span class="p">)</span>
    <span class="n">registered</span><span class="p">[</span><span class="n">app</span><span class="p">]</span> <span class="o">=</span> <span class="n">parcel</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 class="doc doc-heading" id="bamboo.app.VersionConfig">
        <code>VersionConfig</code>



</h2>

    <div class="doc doc-contents ">

      <p>Operator class for version of <code>Endpoint</code>.</p>
<p>This class can be used to get and set version of <code>Endpoint</code> safely.</p>




  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.VersionConfig.__init__">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">


<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>endpoint</code></td>
        <td><code>t.Type[EndpointBase]</code></td>
        <td><p><code>Endpoint</code> whose version is to be manipulated</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">EndpointBase</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        endpoint: `Endpoint` whose version is to be manipulated</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_endpoint_class</span> <span class="o">=</span> <span class="n">endpoint</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.VersionConfig.get">
<code class="highlight language-python"><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Retrieve version belonging to specified <code>app</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>app</code></td>
        <td><code>AppBase</code></td>
        <td><p>Application including the internal <code>Endpoint</code>.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.Optional[Version_t]</code></td>
      <td><p>Version set to <code>Endpoint</code>, if not set yet, then None.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">:</span> <span class="n">AppBase</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">Version_t</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Retrieve version belonging to specified `app`.</span>

<span class="sd">    Args:</span>
<span class="sd">        app: Application including the internal `Endpoint`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Version set to `Endpoint`, if not set yet, then None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endpoint_class</span><span class="p">,</span> <span class="n">ATTR_VERSION</span><span class="p">):</span>
        <span class="n">registered</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endpoint_class</span><span class="p">,</span> <span class="n">ATTR_VERSION</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">registered</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.VersionConfig.get_all">
<code class="highlight language-python"><span class="n">get_all</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Retrieve versions belonging to all <code>AppBase</code> objects.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.List[t.Tuple[AppBase, Version_t]]</code></td>
      <td><p>List of tuples of <code>AppBase</code> objects and their versions.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_all</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="n">AppBase</span><span class="p">,</span> <span class="n">Version_t</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Retrieve versions belonging to all `AppBase` objects.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of tuples of `AppBase` objects and their versions.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endpoint_class</span><span class="p">,</span> <span class="n">ATTR_VERSION</span><span class="p">):</span>
        <span class="n">registered</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endpoint_class</span><span class="p">,</span> <span class="n">ATTR_VERSION</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[(</span><span class="n">app</span><span class="p">,</span> <span class="n">version</span><span class="p">)</span> <span class="k">for</span> <span class="n">app</span><span class="p">,</span> <span class="n">version</span> <span class="ow">in</span> <span class="n">registered</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
    <span class="k">return</span> <span class="p">[]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.VersionConfig.set">
<code class="highlight language-python"><span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Set version of <code>Endpoint</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>app</code></td>
        <td><code>AppBase</code></td>
        <td><p>Application including the internal <code>Endpoint</code>.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>version</code></td>
        <td><code>t.Union[int, t.Tuple[int], None]</code></td>
        <td><p>Version to be set.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>force</code></td>
        <td><code></code></td>
        <td><p>If forcing to set the <code>version</code>.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>Raised if version of the <code>Endpoint</code> has already
been set.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">app</span><span class="p">:</span> <span class="n">AppBase</span><span class="p">,</span>
    <span class="n">version</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Set version of `Endpoint`.</span>

<span class="sd">    Args:</span>
<span class="sd">        app: Application including the internal `Endpoint`.</span>
<span class="sd">        version: Version to be set.</span>
<span class="sd">        force: If forcing to set the `version`.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: Raised if version of the `Endpoint` has already</span>
<span class="sd">            been set.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endpoint_class</span><span class="p">,</span> <span class="n">ATTR_VERSION</span><span class="p">):</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endpoint_class</span><span class="p">,</span> <span class="n">ATTR_VERSION</span><span class="p">,</span> <span class="p">{})</span>

    <span class="n">registered</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_endpoint_class</span><span class="p">,</span> <span class="n">ATTR_VERSION</span><span class="p">)</span>

    <span class="c1"># Format to fit the type Version_t</span>
    <span class="k">if</span> <span class="n">version</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">version</span> <span class="o">=</span> <span class="p">()</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">version</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">version</span> <span class="o">=</span> <span class="p">(</span><span class="n">version</span><span class="p">,)</span>

    <span class="n">registered</span><span class="p">[</span><span class="n">app</span><span class="p">]</span> <span class="o">=</span> <span class="n">version</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 class="doc doc-heading" id="bamboo.app.WSGIApp">
        <code>WSGIApp</code>



</h2>

    <div class="doc doc-contents ">

      <p>Application compliant with the WSGI.</p>
<p>This class is a subclass of <code>AppBase</code> calss and implements the callbable
compliant with the WSGI.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This class can be used only for WSGI server. If you want to use
any ASGI servers, consider using <code>ASGIHTTPApp</code>.</p>
<p>This class can also route only <code>WSGIEndpoint</code>s. If you want to
another type of endpoint, consider implementation class of its
corresponding application.</p>
</div>




  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.WSGIApp.route">
<code class="highlight language-python"><span class="n">route</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">locs</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Register combination of URI and <code>Endpoint</code> for routing.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>*locs</code></td>
        <td><code>Location_t</code></td>
        <td><p>Locations of path of the URI bound with the <code>Endpoint</code>.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>version</code></td>
        <td><code>t.Union[int, t.Tuple[int], None]</code></td>
        <td><p>Version of the <code>Endpoint</code>.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.Callable[[t.Type[WSGIEndpoint]], t.Type[WSGIEndpoint]]</code></td>
      <td><p>Decorator to add combination of URI and <code>Endpoint</code>.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">()</span>

<span class="c1"># Set path of URI as `test/data/image` and the version as 1</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">MockEndpoint</span><span class="p">(</span><span class="n">Endpoint</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">do_GET</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Do something...</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">route</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="o">*</span><span class="n">locs</span><span class="p">:</span> <span class="n">Location_t</span><span class="p">,</span>
    <span class="n">version</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="n">t</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">WSGIEndpoint</span><span class="p">]],</span> <span class="n">t</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">WSGIEndpoint</span><span class="p">]]:</span>
    <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="o">*</span><span class="n">locs</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.WSGIApp.search_uris">
<code class="highlight language-python"><span class="n">search_uris</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Retrieve all URI patterns of <code>Endpoint</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method uses <code>bamboo.Router.search_uris()</code> method inner.
For more information, see the API document.</p>
</div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>endpoint</code></td>
        <td><code>t.Type[WSGIEndpoint]</code></td>
        <td><p><code>Endpoint</code> whose URIs to be searched.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.List[Uri_t]</code></td>
      <td><p>Result of searching.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">search_uris</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">WSGIEndpoint</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">Uri_t</span><span class="p">]:</span>
    <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">search_uris</span><span class="p">(</span><span class="n">endpoint</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.WSGIApp.send_404">
<code class="highlight language-python"><span class="n">send_404</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start_response</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Send <code>404</code> error code, i.e. <code>Resource Not Found</code> error.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>start_response</code></td>
        <td><code>WSGIStartRespoint_t</code></td>
        <td><p><code>start_response</code> callable given from
the WSGI application.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BufferedConcatIterator</code></td>
      <td><p>Response body of the error.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">send_404</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">start_response</span><span class="p">:</span> <span class="n">WSGIStartRespoint_t</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BufferedConcatIterator</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Send `404` error code, i.e. `Resource Not Found` error.</span>

<span class="sd">    Args:</span>
<span class="sd">        start_response: `start_response` callable given from</span>
<span class="sd">            the WSGI application.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Response body of the error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">status</span><span class="p">,</span> <span class="n">headers</span><span class="p">,</span> <span class="n">res_body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_404</span><span class="o">.</span><span class="n">get_all_form</span><span class="p">()</span>
    <span class="n">start_response</span><span class="p">(</span><span class="n">status</span><span class="o">.</span><span class="n">wsgi</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">res_body</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.WSGIApp.set_parcel">
<code class="highlight language-python"><span class="n">set_parcel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">,</span> <span class="o">*</span><span class="n">parcel</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Set parcel to an endpoint.</p>
<p>This method enables to give objects to <code>Endpoint</code> objects
dynamically. A parcel is a set of objects delivered via the method,
and the <code>Endpoint</code> object of its destination receives it at
<code>EndpointBase.setup()</code> method.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about the <code>bamboo.EndpointBase.setup()</code>,
see the API document.</p>
</div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>endpoint</code></td>
        <td><code>t.Type[WSGIEndpoint]</code></td>
        <td><p><code>Endpoint</code> the <code>parcel</code> to be set.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>*parcel</code></td>
        <td><code>t.Any</code></td>
        <td><p>Pacel to be given to the <code>Endpoint</code>.</p></td>
        <td><code>()</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_parcel</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">endpoint</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">WSGIEndpoint</span><span class="p">],</span>
    <span class="o">*</span><span class="n">parcel</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WSGIApp</span><span class="p">:</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">set_parcel</span><span class="p">(</span><span class="n">endpoint</span><span class="p">,</span> <span class="o">*</span><span class="n">parcel</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.app.WSGIApp.validate">
<code class="highlight language-python"><span class="n">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uri</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Validate specified <code>uri</code> and retrieve corresponding <code>Endpoint</code> class.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method uses <code>bamboo.Router.validate()</code> method inner.
For more information, see the API document.</p>
</div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>uri</code></td>
        <td><code>str</code></td>
        <td><p>Path of URI to be validated.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.Tuple[t.Tuple[str, ...], t.Optional[t.Type[WSGIEndpoint]]]</code></td>
      <td><p>Pair of values of flexible locations and <code>Endpoint</code> class if specified
<code>uri</code> is valid, otherwise, pari of empty tuple and None.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/app.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">validate</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">uri</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">WSGIEndpoint</span><span class="p">]]]:</span>
    <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="フッター">
      
        
        <a href="../api/" class="md-footer__link md-footer__link--prev" aria-label="前: api" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                前
              </span>
              api
            </div>
          </div>
        </a>
      
      
        
        <a href="../asgi/" class="md-footer__link md-footer__link--next" aria-label="次: asgi" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                次
              </span>
              asgi
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2021 Yunhyeon Jeong
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/jjj999/bamboo" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.tabs", "navigation.expand", "navigation.top", "search.highlight"], "translations": {"clipboard.copy": "\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u3078\u30b3\u30d4\u30fc", "clipboard.copied": "\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\s\\-\u3000\u3001\u3002\uff0c\uff0e]+", "search.placeholder": "\u691c\u7d22", "search.result.placeholder": "\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044", "search.result.none": "\u4f55\u3082\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f", "search.result.one": "1\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.other": "#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.more.one": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3082\u30461\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.more.other": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3042\u3068#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.term.missing": "\u691c\u7d22\u306b\u542b\u307e\u308c\u306a\u3044", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.477d984a.min.js", "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.ddd52ceb.min.js"></script>
      
    
  </body>
</html>