
<!doctype html>
<html lang="ja" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="The fast, beautiful and hackable Python web framework.">
      
      
      
      
        <link rel="canonical" href="https://jjj999.github.io/bamboo/api/bamboo/endpoint/">
      
      <link rel="icon" href="../../../res/take.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.1.11">
    
    
      
        <title>endpoint - bamboo</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.3754935a.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.f1a3b89f.min.css">
        
          
          
          <meta name="theme-color" content="#4cae4f">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="green" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#endpoint" class="md-skip">
          コンテンツにスキップ
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="ヘッダー">
    <a href="../../.." title="bamboo" class="md-header__button md-logo" aria-label="bamboo" data-md-component="logo">
      
  <img src="../../../res/take.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            bamboo
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              endpoint
            
          </span>
        </div>
      </div>
    </div>
    
    
      <div class="md-header__option">
        <div class="md-select">
          
          <button class="md-header__button md-icon" aria-label="Select language">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24z"/></svg>
          </button>
          <div class="md-select__inner">
            <ul class="md-select__list">
              
                <li class="md-select__item">
                  <a href="/" hreflang="ja" class="md-select__link">
                    日本語
                  </a>
                </li>
                
            </ul>
          </div>
        </div>
      </div>
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="検索" placeholder="検索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="クリア" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            検索を初期化
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/jjj999/bamboo/" title="リポジトリへ" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    jjj999/bamboo
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="タブ" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../tutorials/concept/" class="md-tabs__link">
        Tutorials
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../advanced/db_integration/" class="md-tabs__link">
        Advanced Topics
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../deploy/heroku/" class="md-tabs__link">
        Deployment
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../background/" class="md-tabs__link">
      Background
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../pkg/" class="md-tabs__link md-tabs__link--active">
        API References
      </a>
    </li>
  

  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="ナビゲーション" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="bamboo" class="md-nav__button md-logo" aria-label="bamboo" data-md-component="logo">
      
  <img src="../../../res/take.png" alt="logo">

    </a>
    bamboo
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/jjj999/bamboo/" title="リポジトリへ" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    jjj999/bamboo
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" data-md-state="indeterminate" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        Tutorials
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/concept/" class="md-nav__link">
        bamboo のコンセプト
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/sample_app/" class="md-nav__link">
        サンプルアプリケーションを実装してみる
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/routing/" class="md-nav__link">
        ルーティング
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/headers/" class="md-nav__link">
        ヘッダーの取扱い
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/query_params/" class="md-nav__link">
        クエリパラメータの取扱い
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/define_api/" class="md-nav__link">
        API の定義
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/huge_data_transportation/" class="md-nav__link">
        巨大なデータの転送
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/make_endpoint_component/" class="md-nav__link">
        エンドポイントの拡張
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/error_handling/" class="md-nav__link">
        エラーハンドリング
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/test/" class="md-nav__link">
        アプリケーションのテスト
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/various_endpoints/" class="md-nav__link">
        エンドポイントの種類
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/sticky/" class="md-nav__link">
        コールバックの修飾
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/cache/" class="md-nav__link">
        キャッシュに関する設定
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/cookie/" class="md-nav__link">
        Cookie に関する設定
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/security/" class="md-nav__link">
        セキュリティを強化する
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/websocket/" class="md-nav__link">
        WebSocket アプリケーションの実装
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" data-md-state="indeterminate" type="checkbox" id="__nav_3" checked>
      
      <label class="md-nav__link" for="__nav_3">
        Advanced Topics
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Advanced Topics" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Advanced Topics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../advanced/db_integration/" class="md-nav__link">
        データベースとの統合
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../advanced/flowchart/" class="md-nav__link">
        フローチャートを描く
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../advanced/microservices/" class="md-nav__link">
        マイクロサービスアーキテクチャ
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../advanced/dapr/" class="md-nav__link">
        dapr との連携
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../advanced/packaging/" class="md-nav__link">
        アプリケーションのパッケージング
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" data-md-state="indeterminate" type="checkbox" id="__nav_4" checked>
      
      <label class="md-nav__link" for="__nav_4">
        Deployment
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Deployment" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Deployment
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../deploy/heroku/" class="md-nav__link">
        Heroku を利用したアプリケーションのデプロイ
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../background/" class="md-nav__link">
        Background
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      <label class="md-nav__link" for="__nav_6">
        API References
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="API References" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          API References
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_1" type="checkbox" id="__nav_6_1" checked>
      
      <label class="md-nav__link" for="__nav_6_1">
        bamboo
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="bamboo" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_1">
          <span class="md-nav__icon md-icon"></span>
          bamboo
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../pkg/" class="md-nav__link">
        bamboo
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        api
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../app/" class="md-nav__link">
        app
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../asgi/" class="md-nav__link">
        asgi
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          endpoint
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        endpoint
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#bamboo.endpoint" class="md-nav__link">
    bamboo.endpoint
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase" class="md-nav__link">
    ASGIEndpointBase
  </a>
  
    <nav class="md-nav" aria-label="ASGIEndpointBase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.asgi_version" class="md-nav__link">
    asgi_version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.headers" class="md-nav__link">
    headers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.http_version" class="md-nav__link">
    http_version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.path" class="md-nav__link">
    path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.raw_path" class="md-nav__link">
    raw_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.root_path" class="md-nav__link">
    root_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.scheme" class="md-nav__link">
    scheme
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.scope" class="md-nav__link">
    scope
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.scope_type" class="md-nav__link">
    scope_type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.spec_version" class="md-nav__link">
    spec_version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.get_client_addr" class="md-nav__link">
    get_client_addr()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.get_header" class="md-nav__link">
    get_header()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.get_host_addr" class="md-nav__link">
    get_host_addr()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.get_server_addr" class="md-nav__link">
    get_server_addr()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIHTTPEndpoint" class="md-nav__link">
    ASGIHTTPEndpoint
  </a>
  
    <nav class="md-nav" aria-label="ASGIHTTPEndpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIHTTPEndpoint.content_length" class="md-nav__link">
    content_length
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIHTTPEndpoint.method" class="md-nav__link">
    method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIHTTPEndpoint.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIHTTPEndpoint.__init_subclass__" class="md-nav__link">
    __init_subclass__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIHTTPEndpoint.get_req_body_iter" class="md-nav__link">
    get_req_body_iter()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.endpoint.EndpointBase" class="md-nav__link">
    EndpointBase
  </a>
  
    <nav class="md-nav" aria-label="EndpointBase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.EndpointBase.app" class="md-nav__link">
    app
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.EndpointBase.flexible_locs" class="md-nav__link">
    flexible_locs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.EndpointBase.http_version" class="md-nav__link">
    http_version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.EndpointBase.path" class="md-nav__link">
    path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.EndpointBase.scheme" class="md-nav__link">
    scheme
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.EndpointBase.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.EndpointBase.get_client_addr" class="md-nav__link">
    get_client_addr()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.EndpointBase.get_header" class="md-nav__link">
    get_header()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.EndpointBase.get_host_addr" class="md-nav__link">
    get_host_addr()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.EndpointBase.get_queries" class="md-nav__link">
    get_queries()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.EndpointBase.get_server_addr" class="md-nav__link">
    get_server_addr()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.EndpointBase.setup" class="md-nav__link">
    setup()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn" class="md-nav__link">
    HTTPMixIn
  </a>
  
    <nav class="md-nav" aria-label="HTTPMixIn">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn.content_length" class="md-nav__link">
    content_length
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn.method" class="md-nav__link">
    method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn.__init_subclass__" class="md-nav__link">
    __init_subclass__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn.add_content_length" class="md-nav__link">
    add_content_length()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn.add_content_length_body" class="md-nav__link">
    add_content_length_body()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn.add_content_type" class="md-nav__link">
    add_content_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn.add_header" class="md-nav__link">
    add_header()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn.add_headers" class="md-nav__link">
    add_headers()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn.send_api" class="md-nav__link">
    send_api()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn.send_body" class="md-nav__link">
    send_body()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn.send_file" class="md-nav__link">
    send_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn.send_json" class="md-nav__link">
    send_json()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn.send_only_status" class="md-nav__link">
    send_only_status()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.endpoint.StaticEndpoint" class="md-nav__link">
    StaticEndpoint
  </a>
  
    <nav class="md-nav" aria-label="StaticEndpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.StaticEndpoint.content_type" class="md-nav__link">
    content_type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.StaticEndpoint.setup" class="md-nav__link">
    setup()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.endpoint.StaticRedirectASGIEndpoint" class="md-nav__link">
    StaticRedirectASGIEndpoint
  </a>
  
    <nav class="md-nav" aria-label="StaticRedirectASGIEndpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.StaticRedirectASGIEndpoint.setup" class="md-nav__link">
    setup()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.endpoint.StaticRedirectWSGIEndpoint" class="md-nav__link">
    StaticRedirectWSGIEndpoint
  </a>
  
    <nav class="md-nav" aria-label="StaticRedirectWSGIEndpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.StaticRedirectWSGIEndpoint.setup" class="md-nav__link">
    setup()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.endpoint.StatusCodeAlreadySetError" class="md-nav__link">
    StatusCodeAlreadySetError
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpoint" class="md-nav__link">
    WSGIEndpoint
  </a>
  
    <nav class="md-nav" aria-label="WSGIEndpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpoint.content_length" class="md-nav__link">
    content_length
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpoint.method" class="md-nav__link">
    method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpoint.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpoint.get_req_body_iter" class="md-nav__link">
    get_req_body_iter()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpoint.get_req_body_stream" class="md-nav__link">
    get_req_body_stream()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpointBase" class="md-nav__link">
    WSGIEndpointBase
  </a>
  
    <nav class="md-nav" aria-label="WSGIEndpointBase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpointBase.environ" class="md-nav__link">
    environ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpointBase.http_version" class="md-nav__link">
    http_version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpointBase.path" class="md-nav__link">
    path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpointBase.scheme" class="md-nav__link">
    scheme
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpointBase.server_software" class="md-nav__link">
    server_software
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpointBase.wsgi_version" class="md-nav__link">
    wsgi_version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpointBase.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpointBase.get_client_addr" class="md-nav__link">
    get_client_addr()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpointBase.get_header" class="md-nav__link">
    get_header()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpointBase.get_host_addr" class="md-nav__link">
    get_host_addr()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpointBase.get_server_addr" class="md-nav__link">
    get_server_addr()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../error/" class="md-nav__link">
        error
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../http/" class="md-nav__link">
        http
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../io/" class="md-nav__link">
        io
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../location/" class="md-nav__link">
        location
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../router/" class="md-nav__link">
        router
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../test/" class="md-nav__link">
        test
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_2" data-md-state="indeterminate" type="checkbox" id="__nav_6_2" checked>
      
      <label class="md-nav__link" for="__nav_6_2">
        bamboo.request
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="bamboo.request" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          bamboo.request
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../bamboo_request/pkg/" class="md-nav__link">
        bamboo.request
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../bamboo_request/http/" class="md-nav__link">
        bamboo.request.http
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../bamboo_request/https/" class="md-nav__link">
        bamboo.request.https
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_3" data-md-state="indeterminate" type="checkbox" id="__nav_6_3" checked>
      
      <label class="md-nav__link" for="__nav_6_3">
        bamboo.sticky
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="bamboo.sticky" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_3">
          <span class="md-nav__icon md-icon"></span>
          bamboo.sticky
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../bamboo_sticky/pkg/" class="md-nav__link">
        bamboo.sticky
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../bamboo_sticky/http/" class="md-nav__link">
        bamboo.sticky.http
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_4" data-md-state="indeterminate" type="checkbox" id="__nav_6_4" checked>
      
      <label class="md-nav__link" for="__nav_6_4">
        bamboo.util
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="bamboo.util" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_4">
          <span class="md-nav__icon md-icon"></span>
          bamboo.util
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../bamboo_util/pkg/" class="md-nav__link">
        bamboo.util
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../bamboo_util/convert/" class="md-nav__link">
        bamboo.util.convert
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../bamboo_util/deco/" class="md-nav__link">
        bamboo.util.deco
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../bamboo_util/string/" class="md-nav__link">
        bamboo.util.string
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../bamboo_util/time/" class="md-nav__link">
        bamboo.util.time
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#bamboo.endpoint" class="md-nav__link">
    bamboo.endpoint
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase" class="md-nav__link">
    ASGIEndpointBase
  </a>
  
    <nav class="md-nav" aria-label="ASGIEndpointBase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.asgi_version" class="md-nav__link">
    asgi_version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.headers" class="md-nav__link">
    headers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.http_version" class="md-nav__link">
    http_version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.path" class="md-nav__link">
    path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.raw_path" class="md-nav__link">
    raw_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.root_path" class="md-nav__link">
    root_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.scheme" class="md-nav__link">
    scheme
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.scope" class="md-nav__link">
    scope
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.scope_type" class="md-nav__link">
    scope_type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.spec_version" class="md-nav__link">
    spec_version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.get_client_addr" class="md-nav__link">
    get_client_addr()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.get_header" class="md-nav__link">
    get_header()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.get_host_addr" class="md-nav__link">
    get_host_addr()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIEndpointBase.get_server_addr" class="md-nav__link">
    get_server_addr()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIHTTPEndpoint" class="md-nav__link">
    ASGIHTTPEndpoint
  </a>
  
    <nav class="md-nav" aria-label="ASGIHTTPEndpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIHTTPEndpoint.content_length" class="md-nav__link">
    content_length
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIHTTPEndpoint.method" class="md-nav__link">
    method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIHTTPEndpoint.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIHTTPEndpoint.__init_subclass__" class="md-nav__link">
    __init_subclass__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.ASGIHTTPEndpoint.get_req_body_iter" class="md-nav__link">
    get_req_body_iter()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.endpoint.EndpointBase" class="md-nav__link">
    EndpointBase
  </a>
  
    <nav class="md-nav" aria-label="EndpointBase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.EndpointBase.app" class="md-nav__link">
    app
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.EndpointBase.flexible_locs" class="md-nav__link">
    flexible_locs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.EndpointBase.http_version" class="md-nav__link">
    http_version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.EndpointBase.path" class="md-nav__link">
    path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.EndpointBase.scheme" class="md-nav__link">
    scheme
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.EndpointBase.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.EndpointBase.get_client_addr" class="md-nav__link">
    get_client_addr()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.EndpointBase.get_header" class="md-nav__link">
    get_header()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.EndpointBase.get_host_addr" class="md-nav__link">
    get_host_addr()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.EndpointBase.get_queries" class="md-nav__link">
    get_queries()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.EndpointBase.get_server_addr" class="md-nav__link">
    get_server_addr()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.EndpointBase.setup" class="md-nav__link">
    setup()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn" class="md-nav__link">
    HTTPMixIn
  </a>
  
    <nav class="md-nav" aria-label="HTTPMixIn">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn.content_length" class="md-nav__link">
    content_length
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn.method" class="md-nav__link">
    method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn.__init_subclass__" class="md-nav__link">
    __init_subclass__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn.add_content_length" class="md-nav__link">
    add_content_length()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn.add_content_length_body" class="md-nav__link">
    add_content_length_body()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn.add_content_type" class="md-nav__link">
    add_content_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn.add_header" class="md-nav__link">
    add_header()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn.add_headers" class="md-nav__link">
    add_headers()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn.send_api" class="md-nav__link">
    send_api()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn.send_body" class="md-nav__link">
    send_body()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn.send_file" class="md-nav__link">
    send_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn.send_json" class="md-nav__link">
    send_json()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.HTTPMixIn.send_only_status" class="md-nav__link">
    send_only_status()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.endpoint.StaticEndpoint" class="md-nav__link">
    StaticEndpoint
  </a>
  
    <nav class="md-nav" aria-label="StaticEndpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.StaticEndpoint.content_type" class="md-nav__link">
    content_type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.StaticEndpoint.setup" class="md-nav__link">
    setup()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.endpoint.StaticRedirectASGIEndpoint" class="md-nav__link">
    StaticRedirectASGIEndpoint
  </a>
  
    <nav class="md-nav" aria-label="StaticRedirectASGIEndpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.StaticRedirectASGIEndpoint.setup" class="md-nav__link">
    setup()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.endpoint.StaticRedirectWSGIEndpoint" class="md-nav__link">
    StaticRedirectWSGIEndpoint
  </a>
  
    <nav class="md-nav" aria-label="StaticRedirectWSGIEndpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.StaticRedirectWSGIEndpoint.setup" class="md-nav__link">
    setup()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.endpoint.StatusCodeAlreadySetError" class="md-nav__link">
    StatusCodeAlreadySetError
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpoint" class="md-nav__link">
    WSGIEndpoint
  </a>
  
    <nav class="md-nav" aria-label="WSGIEndpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpoint.content_length" class="md-nav__link">
    content_length
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpoint.method" class="md-nav__link">
    method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpoint.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpoint.get_req_body_iter" class="md-nav__link">
    get_req_body_iter()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpoint.get_req_body_stream" class="md-nav__link">
    get_req_body_stream()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpointBase" class="md-nav__link">
    WSGIEndpointBase
  </a>
  
    <nav class="md-nav" aria-label="WSGIEndpointBase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpointBase.environ" class="md-nav__link">
    environ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpointBase.http_version" class="md-nav__link">
    http_version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpointBase.path" class="md-nav__link">
    path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpointBase.scheme" class="md-nav__link">
    scheme
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpointBase.server_software" class="md-nav__link">
    server_software
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpointBase.wsgi_version" class="md-nav__link">
    wsgi_version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpointBase.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpointBase.get_client_addr" class="md-nav__link">
    get_client_addr()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpointBase.get_header" class="md-nav__link">
    get_header()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpointBase.get_host_addr" class="md-nav__link">
    get_host_addr()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bamboo.endpoint.WSGIEndpointBase.get_server_addr" class="md-nav__link">
    get_server_addr()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/jjj999/bamboo/edit/master/docs/api/bamboo/endpoint.md" title="編集" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="endpoint">endpoint</h1>


  <div class="doc doc-object doc-module">

<a id="bamboo.endpoint"></a>
    <div class="doc doc-contents first">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h2 class="doc doc-heading" id="bamboo.endpoint.ASGIEndpointBase">
        <code>ASGIEndpointBase</code>



</h2>

    <div class="doc doc-contents ">

      <p>Base class of endpoints compliant with the ASGI.</p>
<p>This class implements abstract methods of <code>EndpointBase</code> with the ASGI.
However, this class doesn't implement some methods to structure responses.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>DO NOT use this class as the super class of your endpoints. Consider
to use subclasses of the class like <code>ASGIHTTPEndpoint</code>.</p>
</div>




  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.ASGIEndpointBase.asgi_version">
<code class="highlight language-python"><span class="n">asgi_version</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>ASGI version.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.ASGIEndpointBase.headers">
<code class="highlight language-python"><span class="n">headers</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Request headers.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.ASGIEndpointBase.http_version">
<code class="highlight language-python"><span class="n">http_version</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>HTTP Version on communication.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.ASGIEndpointBase.path">
<code class="highlight language-python"><span class="n">path</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Path of requested URI.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.ASGIEndpointBase.raw_path">
<code class="highlight language-python"><span class="n">raw_path</span><span class="p">:</span> <span class="nb">bytes</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>The original HTTP path received from client.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.ASGIEndpointBase.root_path">
<code class="highlight language-python"><span class="n">root_path</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>The root path ASGI application is mounted at.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.ASGIEndpointBase.scheme">
<code class="highlight language-python"><span class="n">scheme</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Scheme of requested URI.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.ASGIEndpointBase.scope">
<code class="highlight language-python"><span class="n">scope</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>scope variable received from ASGI server.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.ASGIEndpointBase.scope_type">
<code class="highlight language-python"><span class="n">scope_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Scope type on ASGI.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.ASGIEndpointBase.spec_version">
<code class="highlight language-python"><span class="n">spec_version</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Spec version on ASGI.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.ASGIEndpointBase.__init__">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">,</span> <span class="n">scope</span><span class="p">,</span> <span class="n">flexible_locs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">


<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>scope</code></td>
        <td><code>t.Dict[str, t.Any]</code></td>
        <td><p>scope variable received from ASGI server.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>flexible_locs</code></td>
        <td><code>t.Tuple[str, ...]</code></td>
        <td><p>Flexible locations requested.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">app</span><span class="p">:</span> <span class="n">App_t</span><span class="p">,</span>
    <span class="n">scope</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span>
    <span class="n">flexible_locs</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        scope: scope variable received from ASGI server.</span>
<span class="sd">        flexible_locs: Flexible locations requested.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span> <span class="o">=</span> <span class="n">scope</span>

    <span class="c1"># TODO</span>
    <span class="c1">#   Consider not mapping in this method.</span>
    <span class="n">req_headers</span> <span class="o">=</span> <span class="n">scope</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;headers&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_req_headers</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">req_headers</span><span class="p">:</span>
        <span class="n">req_headers</span> <span class="o">=</span> <span class="p">[</span><span class="nb">map</span><span class="p">(</span><span class="n">codecs</span><span class="o">.</span><span class="n">decode</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span> <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">req_headers</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_req_headers</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">req_headers</span><span class="p">))</span>

    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">flexible_locs</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.ASGIEndpointBase.get_client_addr">
<code class="highlight language-python"><span class="n">get_client_addr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Retrieve client address, pair of its IP address and port.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>IP address and port may be None if retrieving the address from
server application would fail, so it is recommended to confirm
your using server application's spec.</p>
</div>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.Tuple[t.Optional[str], t.Optional[str]]</code></td>
      <td><p>Pair of IP and port of client.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_client_addr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
    <span class="n">client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;client&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">client</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.ASGIEndpointBase.get_header">
<code class="highlight language-python"><span class="n">get_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Retrive header value from requested headers.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>Header name.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.Optional[str]</code></td>
      <td><p>Value of header if existing, None otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_req_headers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.ASGIEndpointBase.get_host_addr">
<code class="highlight language-python"><span class="n">get_host_addr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Retrive host name and port from requested headers.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.Tuple[t.Optional[str], t.Optional[int]]</code></td>
      <td><p>Pair of host name and port.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_host_addr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
    <span class="n">http_host</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_header</span><span class="p">(</span><span class="s2">&quot;host&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">http_host</span><span class="p">:</span>
        <span class="n">http_host</span> <span class="o">=</span> <span class="n">http_host</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">http_host</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">http_host</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">host</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="n">http_host</span>
            <span class="n">port</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">port</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.ASGIEndpointBase.get_server_addr">
<code class="highlight language-python"><span class="n">get_server_addr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Retrive server address, pair of its IP address and port.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>IP address and port may be None if retrieving the address from
server application would fail, so it is recommended to confirm
your using server application's spec.</p>
</div>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.Tuple[t.Optional[str], t.Optional[str]]</code></td>
      <td><p>Pair of IP and port of server.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_server_addr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
    <span class="n">server</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;server&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">server</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">server</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 class="doc doc-heading" id="bamboo.endpoint.ASGIHTTPEndpoint">
        <code>ASGIHTTPEndpoint</code>



</h2>

    <div class="doc doc-contents ">

      <p>HTTP endpoint class compliant with the ASGI.</p>
<p>This class is a complete class of endpoints, communicating on HTTP.
This class has all attributes of <code>ASGIEndpointBase</code> and <code>HTTPMixIn</code>,
and you can define its subclass and use them in your response methods.</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="n">app</span> <span class="o">=</span> <span class="n">ASGIHTTPApp</span><span class="p">()</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">HelloEndpoint</span><span class="p">(</span><span class="n">ASGIHTTPEndpoint</span><span class="p">):</span>

    <span class="c1"># RECOMMEND to use `data_format` decorator</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">do_GET</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;greeting&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello, Client!&quot;</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">send_json</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">do_POST</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">req_body</span> <span class="o">=</span> <span class="k">async</span> <span class="bp">self</span><span class="o">.</span><span class="n">body</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">req_body</span><span class="p">)</span>
</code></pre></div>




  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.ASGIHTTPEndpoint.content_length">
<code class="highlight language-python"><span class="n">content_length</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Content length of request body if existing.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.ASGIHTTPEndpoint.method">
<code class="highlight language-python"><span class="n">method</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>HTTP method requested from client.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.ASGIHTTPEndpoint.__init__">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">,</span> <span class="n">scope</span><span class="p">,</span> <span class="n">receive</span><span class="p">,</span> <span class="n">flexible_locs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">


<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>app</code></td>
        <td><code>ASGIHTTPApp</code></td>
        <td><p>Application object which routes the endpoint.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>scope</code></td>
        <td><code>t.Dict[str, t.Any]</code></td>
        <td><p>Scope variable received from ASGI server.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>receive</code></td>
        <td><code>t.Callable[[], t.Awaitable[t.Dict[str, t.Any]]]</code></td>
        <td><p><code>receive</code> method given from ASGI server.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>flexible_locs</code></td>
        <td><code>t.Tuple[str, ...]</code></td>
        <td><p>Flexible locations requested.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">app</span><span class="p">:</span> <span class="n">ASGIHTTPApp</span><span class="p">,</span>
    <span class="n">scope</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span>
    <span class="n">receive</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[],</span> <span class="n">t</span><span class="o">.</span><span class="n">Awaitable</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">Any</span><span class="p">]]],</span>
    <span class="n">flexible_locs</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        app: Application object which routes the endpoint.</span>
<span class="sd">        scope: Scope variable received from ASGI server.</span>
<span class="sd">        receive: `receive` method given from ASGI server.</span>
<span class="sd">        flexible_locs: Flexible locations requested.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_receive</span> <span class="o">=</span> <span class="n">receive</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_is_disconnected</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="n">ASGIEndpointBase</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">,</span> <span class="n">scope</span><span class="p">,</span> <span class="n">flexible_locs</span><span class="p">)</span>
    <span class="n">HTTPMixIn</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.ASGIHTTPEndpoint.__init_subclass__">
<code class="highlight language-python"><span class="n">__init_subclass__</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>This method is called when a class is subclassed.</p>
<p>The default implementation does nothing. It may be
overridden to extend subclasses.</p>

        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">__init_subclass__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__init_subclass__</span><span class="p">()</span>

    <span class="c1"># NOTE</span>
    <span class="c1">#   All response methods of its subclass must be awaitables.</span>
    <span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">HTTPMethods</span><span class="p">:</span>
        <span class="n">callback</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_response_method</span><span class="p">(</span><span class="n">method</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">callback</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">inspect</span><span class="o">.</span><span class="n">iscoroutinefunction</span><span class="p">(</span><span class="n">callback</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">callback</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> must be an awaitable&quot;</span>
                <span class="s2">&quot;, not a callable.&quot;</span>
            <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.ASGIHTTPEndpoint.get_req_body_iter">
<code class="highlight language-python"><span class="n">get_req_body_iter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bufsize</span><span class="o">=</span><span class="mi">8192</span><span class="p">,</span> <span class="n">cache</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Make an access to the request body as an iterator.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the flag <code>cache</code> is <code>True</code>, the request body data is to be
cached into the property <code>body</code>, i.e. one always can access
to the request body even after the iteration. On the other hand,
if the <code>cache</code> is <code>False</code>, caching is not conducted and
access to the <code>body</code> will be failed.</p>
</div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>bufsize</code></td>
        <td><code>int</code></td>
        <td><p>Chunk size of each item.</p></td>
        <td><code>8192</code></td>
      </tr>
      <tr>
        <td><code>cache</code></td>
        <td><code>bool</code></td>
        <td><p>If the request body is to be cached or not.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.AsyncGenerator[bytes, None]</code></td>
      <td><p>Async iterator with binary of the request body.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">get_req_body_iter</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">bufsize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">8192</span><span class="p">,</span>
    <span class="n">cache</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">AsyncGenerator</span><span class="p">[</span><span class="nb">bytes</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Make an access to the request body as an iterator.</span>

<span class="sd">    Note:</span>
<span class="sd">        If the flag `cache` is `True`, the request body data is to be</span>
<span class="sd">        cached into the property `body`, i.e. one always can access</span>
<span class="sd">        to the request body even after the iteration. On the other hand,</span>
<span class="sd">        if the `cache` is `False`, caching is not conducted and</span>
<span class="sd">        access to the `body` will be failed.</span>

<span class="sd">    Args:</span>
<span class="sd">        bufsize: Chunk size of each item.</span>
<span class="sd">        cache: If the request body is to be cached or not.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Async iterator with binary of the request body.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">buffer</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">()</span>
    <span class="n">more_body</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">cacher</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">body</span>

    <span class="k">while</span> <span class="n">more_body</span><span class="p">:</span>
        <span class="n">chunk</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_receive</span><span class="p">()</span>
        <span class="nb">type</span> <span class="o">=</span> <span class="n">chunk</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">type</span> <span class="o">==</span> <span class="n">ASGIHTTPEvents</span><span class="o">.</span><span class="n">disconnect</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_is_disconnected</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">return</span>

        <span class="n">body</span> <span class="o">=</span> <span class="n">chunk</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;body&quot;</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">buffer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
        <span class="n">buffer</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
        <span class="n">more_body</span> <span class="o">=</span> <span class="n">chunk</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;more_body&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="k">while</span> <span class="n">buffer</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="n">bufsize</span><span class="p">:</span>
            <span class="n">buffer</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">item</span> <span class="o">=</span> <span class="n">buffer</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">bufsize</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">item</span>

            <span class="k">if</span> <span class="n">cache</span><span class="p">:</span>
                <span class="c1"># TODO</span>
                <span class="c1">#   Seek more efficient ways</span>
                <span class="k">if</span> <span class="n">cacher</span><span class="o">.</span><span class="n">_has_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                    <span class="n">item</span> <span class="o">=</span> <span class="n">cacher</span><span class="o">.</span><span class="n">_get_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">+</span> <span class="n">item</span>

                <span class="n">cacher</span><span class="o">.</span><span class="n">_set_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>

            <span class="n">rest</span> <span class="o">=</span> <span class="n">buffer</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
            <span class="n">buffer</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="n">buffer</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">rest</span><span class="p">)</span>

    <span class="c1"># TODO</span>
    <span class="c1">#   Seek more efficient ways</span>
    <span class="n">buffer</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">item</span> <span class="o">=</span> <span class="n">buffer</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="k">yield</span> <span class="n">item</span>
    <span class="k">if</span> <span class="n">cache</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">cacher</span><span class="o">.</span><span class="n">_has_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="n">item</span> <span class="o">=</span> <span class="n">cacher</span><span class="o">.</span><span class="n">_get_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">+</span> <span class="n">item</span>

        <span class="n">cacher</span><span class="o">.</span><span class="n">_set_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>

    <span class="n">buffer</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h2 class="doc doc-heading" id="bamboo.endpoint.EndpointBase">
        <code>EndpointBase</code>



</h2>

    <div class="doc doc-contents ">

      <p>Base class of Endpoint to define logic to requests.</p>
<p>Endpoint is one of the core concept of Bamboo, and this class defines
its basic behavior. All endpoints must inherit this class.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This class is an abstract class. Consider using its subclasses.</p>
</div>




  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.EndpointBase.app">
<code class="highlight language-python"><span class="n">app</span><span class="p">:</span> <span class="n">App_t</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Application object handling the endpoint.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.EndpointBase.flexible_locs">
<code class="highlight language-python"><span class="n">flexible_locs</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Flexible locations extracted from requested URI.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.EndpointBase.http_version">
<code class="highlight language-python"><span class="n">http_version</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>HTTP Version on communication.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.EndpointBase.path">
<code class="highlight language-python"><span class="n">path</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Path of requested URI.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.EndpointBase.scheme">
<code class="highlight language-python"><span class="n">scheme</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Scheme of requested URI.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.EndpointBase.__init__">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">,</span> <span class="n">flexible_locs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <div class="admonition note">
<p class="admonition-title">Note</p>
<p>DO NOT generate its instance. Its object will be initialized
by application object.</p>
</div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>app</code></td>
        <td><code>App_t</code></td>
        <td><p>Application object which routes the endpoint.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>flexible_locs</code></td>
        <td><code>t.Tuple[str, ...]</code></td>
        <td><p>Flexible locations requested.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">app</span><span class="p">:</span> <span class="n">App_t</span><span class="p">,</span>
    <span class="n">flexible_locs</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Note:</span>
<span class="sd">        DO NOT generate its instance. Its object will be initialized</span>
<span class="sd">        by application object.</span>

<span class="sd">    Args:</span>
<span class="sd">        app: Application object which routes the endpoint.</span>
<span class="sd">        flexible_locs: Flexible locations requested.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_app</span> <span class="o">=</span> <span class="n">app</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_flexible_locs</span> <span class="o">=</span> <span class="n">flexible_locs</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.EndpointBase.get_client_addr">
<code class="highlight language-python"><span class="n">get_client_addr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Retrieve client address, pair of its IP address and port.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>IP address and port may be None if retrieving the address from
server application would fail, so it is recommended to confirm
your using server application's spec.</p>
</div>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.Tuple[t.Optional[str], t.Optional[int]]</code></td>
      <td><p>Pair of IP and port of client.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_client_addr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Retrieve client address, pair of its IP address and port.</span>

<span class="sd">    Note:</span>
<span class="sd">        IP address and port may be None if retrieving the address from</span>
<span class="sd">        server application would fail, so it is recommended to confirm</span>
<span class="sd">        your using server application&#39;s spec.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Pair of IP and port of client.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.EndpointBase.get_header">
<code class="highlight language-python"><span class="n">get_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Retrive header value from requested headers.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>Header name.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.Optional[str]</code></td>
      <td><p>Value of header if existing, None otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Retrive header value from requested headers.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: Header name.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Value of header if existing, None otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.EndpointBase.get_host_addr">
<code class="highlight language-python"><span class="n">get_host_addr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Retrive host name and port from requested headers.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.Tuple[t.Optional[str], t.Optional[int]]</code></td>
      <td><p>Pair of host name and port.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_host_addr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Retrive host name and port from requested headers.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Pair of host name and port.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.EndpointBase.get_queries">
<code class="highlight language-python"><span class="n">get_queries</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Get values of query parameter.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>Key name of the parameter</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.List[str]</code></td>
      <td><p>Value of the parameter. The value of list may have multiple
items if client specifies the parameter in several times.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_queries</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Get values of query parameter.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: Key name of the parameter</span>

<span class="sd">    Returns:</span>
<span class="sd">        Value of the parameter. The value of list may have multiple</span>
<span class="sd">        items if client specifies the parameter in several times.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">query</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">queries</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">query</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">query</span>
    <span class="k">return</span> <span class="p">[]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.EndpointBase.get_server_addr">
<code class="highlight language-python"><span class="n">get_server_addr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Retrive server address, pair of its IP address and port.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>IP address and port may be None if retrieving the address from
server application would fail, so it is recommended to confirm
your using server application's spec.</p>
</div>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.Tuple[t.Optional[str], t.Optional[int]]</code></td>
      <td><p>Pair of IP and port of server.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_server_addr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Retrive server address, pair of its IP address and port.</span>

<span class="sd">    Note:</span>
<span class="sd">        IP address and port may be None if retrieving the address from</span>
<span class="sd">        server application would fail, so it is recommended to confirm</span>
<span class="sd">        your using server application&#39;s spec.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Pair of IP and port of server.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.EndpointBase.setup">
<code class="highlight language-python"><span class="n">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">parcel</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Execute setup of the endpoint object.</p>
<p>This method will execute at initialization of the object by specifying
parcel. The parcel is sent with <code>set_parcel()</code> method of
the application object which has included the object as one of
the its endpoints. This method can be used as a substitute for
the <code>__init__</code> method.</p>
<p>This method is useful in some cases like below:</p>
<ul>
<li>Making an endpoint class a reusable component</li>
<li>Injecting environmental dependencies using something like a
    setting file</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>*parcel</code></td>
        <td><code></code></td>
        <td><p>Parcel sent via application object.</p></td>
        <td><code>()</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="n">app</span> <span class="o">=</span> <span class="n">WSGIApp</span><span class="p">()</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">HelloEndpoint</span><span class="p">(</span><span class="n">WSGIEndpoint</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_server_name</span> <span class="o">=</span> <span class="n">server_name</span>

    <span class="k">def</span> <span class="nf">do_GET</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">send_body</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hello from </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_server_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">SERVER_NAME</span> <span class="o">=</span> <span class="s2">&quot;awesome_server&quot;</span>
    <span class="n">app</span><span class="o">.</span><span class="n">set_parcel</span><span class="p">(</span><span class="n">HelloEndpoint</span><span class="p">,</span> <span class="n">SERVER_NAME</span><span class="p">)</span>

    <span class="n">WSGITestExecutor</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">8000</span><span class="p">)</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">parcel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Execute setup of the endpoint object.</span>

<span class="sd">    This method will execute at initialization of the object by specifying</span>
<span class="sd">    parcel. The parcel is sent with `set_parcel()` method of</span>
<span class="sd">    the application object which has included the object as one of</span>
<span class="sd">    the its endpoints. This method can be used as a substitute for</span>
<span class="sd">    the `__init__` method.</span>

<span class="sd">    This method is useful in some cases like below:</span>

<span class="sd">    - Making an endpoint class a reusable component</span>
<span class="sd">    - Injecting environmental dependencies using something like a</span>
<span class="sd">        setting file</span>

<span class="sd">    Args:</span>
<span class="sd">        *parcel: Parcel sent via application object.</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        app = WSGIApp()</span>

<span class="sd">        @app.route(&quot;hello&quot;)</span>
<span class="sd">        class HelloEndpoint(WSGIEndpoint):</span>

<span class="sd">            def setup(self, server_name: str) -&gt; None:</span>
<span class="sd">                self._server_name = server_name</span>

<span class="sd">            def do_GET(self) -&gt; None:</span>
<span class="sd">                self.send_body(f&quot;Hello from {self._server_name}&quot;.encode())</span>

<span class="sd">        if __name__ == &quot;__main__&quot;:</span>
<span class="sd">            SERVER_NAME = &quot;awesome_server&quot;</span>
<span class="sd">            app.set_parcel(HelloEndpoint, SERVER_NAME)</span>

<span class="sd">            WSGITestExecutor.debug(app, &quot;&quot;, 8000)</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 class="doc doc-heading" id="bamboo.endpoint.HTTPMixIn">
        <code>HTTPMixIn</code>



</h2>

    <div class="doc doc-contents ">

      <p>Mixin class for HTTP endpoints.</p>
<p>This class assumes that endpoint classes inherit this class for HTTP.
So, this class do not work alone.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>DO NOT use this class alone. This class work correctly by inheriting
it, implementing its abstract methods, and call its <code>__init__()</code>
method in the one of the subclass.</p>
</div>




  <div class="doc doc-children">







  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.HTTPMixIn.content_length">
<code class="highlight language-python"><span class="n">content_length</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Content length of request body if existing.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.HTTPMixIn.method">
<code class="highlight language-python"><span class="n">method</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>HTTP method requested from client.</p>
    </div>

  </div>







  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.HTTPMixIn.__init_subclass__">
<code class="highlight language-python"><span class="n">__init_subclass__</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>This method is called when a class is subclassed.</p>
<p>The default implementation does nothing. It may be
overridden to extend subclasses.</p>

        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">__init_subclass__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__init_subclass__</span><span class="p">()</span>

    <span class="bp">cls</span><span class="o">.</span><span class="n">_pre_methods</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">_res_methods</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># Check if bufsize is positive</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">bufsize</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">bufsize</span><span class="p">,</span> <span class="nb">int</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">.bufsize must be positive integer&quot;</span>
        <span class="p">)</span>

    <span class="c1"># Check pre &amp; response methods</span>
    <span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">_AVAILABLE_RES_METHODS</span><span class="p">:</span>
        <span class="n">name_pre_method</span> <span class="o">=</span> <span class="n">_PREFIX_PRE_RESPONSE</span> <span class="o">+</span> <span class="n">method</span>
        <span class="n">name_res_method</span> <span class="o">=</span> <span class="n">_PREFIX_RESPONSE</span> <span class="o">+</span> <span class="n">method</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name_pre_method</span><span class="p">):</span>
            <span class="n">pre_method</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name_pre_method</span><span class="p">)</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">_pre_methods</span><span class="p">[</span><span class="n">method</span><span class="p">]</span> <span class="o">=</span> <span class="n">pre_method</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name_res_method</span><span class="p">):</span>
            <span class="n">res_method</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name_res_method</span><span class="p">)</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">_res_methods</span><span class="p">[</span><span class="n">method</span><span class="p">]</span> <span class="o">=</span> <span class="n">res_method</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.HTTPMixIn.add_content_length">
<code class="highlight language-python"><span class="n">add_content_length</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Add Content-Length header of response.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>length</code></td>
        <td><code>int</code></td>
        <td><p>Size of response body.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">add_content_length</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Add Content-Length header of response.</span>

<span class="sd">    Args:</span>
<span class="sd">        length: Size of response body.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_header</span><span class="p">(</span><span class="s2">&quot;Content-Length&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">length</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.HTTPMixIn.add_content_length_body">
<code class="highlight language-python"><span class="n">add_content_length_body</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Add Content-Length header of response by response body.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>body</code></td>
        <td><code>bytes</code></td>
        <td><p>Response body.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">add_content_length_body</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">body</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Add Content-Length header of response by response body.</span>

<span class="sd">    Args:</span>
<span class="sd">        body: Response body.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_header</span><span class="p">(</span><span class="s2">&quot;Content-Length&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">body</span><span class="p">)))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.HTTPMixIn.add_content_type">
<code class="highlight language-python"><span class="n">add_content_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content_type</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Add Content-Type header of response.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>content_type</code></td>
        <td><code>ContentType</code></td>
        <td><p>Information of Content-Type header.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">add_content_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content_type</span><span class="p">:</span> <span class="n">ContentType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Add Content-Type header of response.</span>

<span class="sd">    Args:</span>
<span class="sd">        content_type: Information of Content-Type header.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_header</span><span class="p">(</span><span class="o">*</span><span class="n">content_type</span><span class="o">.</span><span class="n">to_header</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.HTTPMixIn.add_header">
<code class="highlight language-python"><span class="n">add_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Add response header with MIME parameters.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>Field name of the header.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>value</code></td>
        <td><code>str</code></td>
        <td><p>Value of the field.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>**params</code></td>
        <td><code>str</code></td>
        <td><p>Directives added to the field.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">add_header</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">**</span><span class="n">params</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Add response header with MIME parameters.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: Field name of the header.</span>
<span class="sd">        value: Value of the field.</span>
<span class="sd">        **params: Directives added to the field.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_res_headers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">make_header</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.HTTPMixIn.add_headers">
<code class="highlight language-python"><span class="n">add_headers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">headers</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Add response headers at once.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method would be used as a shortcut to register multiple
headers. If it requires adding MIME parameters, developers
can use the 'add_header' method.</p>
</div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>**headers</code></td>
        <td><code>t.Tuple[str, str]</code></td>
        <td><p>Header's info whose header is the field name.</p></td>
        <td><code>()</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">add_headers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">headers</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Add response headers at once.</span>

<span class="sd">    Note:</span>
<span class="sd">        This method would be used as a shortcut to register multiple</span>
<span class="sd">        headers. If it requires adding MIME parameters, developers</span>
<span class="sd">        can use the &#39;add_header&#39; method.</span>

<span class="sd">    Args:</span>
<span class="sd">        **headers: Header&#39;s info whose header is the field name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">headers</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_header</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.HTTPMixIn.send_api">
<code class="highlight language-python"><span class="n">send_api</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">api</span><span class="p">,</span> <span class="n">status</span><span class="o">=&lt;</span><span class="n">HTTPStatus</span><span class="o">.</span><span class="n">OK</span><span class="p">:</span> <span class="mi">200</span><span class="o">&gt;</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Set given api data to the response body.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>api</code></td>
        <td><code>ApiData</code></td>
        <td><p>ApiData object to be sent.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>status</code></td>
        <td><code>HTTPStatus</code></td>
        <td><p>HTTP status of the response.</p></td>
        <td><code>&lt;HTTPStatus.OK: 200&gt;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>StatusCodeAlreadySetError</code></td>
        <td><p>Raised if response status code
has already been set.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">send_api</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">api</span><span class="p">:</span> <span class="n">ApiData</span><span class="p">,</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">HTTPStatus</span> <span class="o">=</span> <span class="n">HTTPStatus</span><span class="o">.</span><span class="n">OK</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Set given api data to the response body.</span>

<span class="sd">    Args:</span>
<span class="sd">        api: ApiData object to be sent.</span>
<span class="sd">        status: HTTP status of the response.</span>

<span class="sd">    Raises:</span>
<span class="sd">        StatusCodeAlreadySetError: Raised if response status code</span>
<span class="sd">            has already been set.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">send_body</span><span class="p">(</span>
        <span class="n">api</span><span class="o">.</span><span class="n">__extract__</span><span class="p">(),</span>
        <span class="n">content_type</span><span class="o">=</span><span class="n">api</span><span class="o">.</span><span class="n">__content_type__</span><span class="p">,</span>
        <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.HTTPMixIn.send_body">
<code class="highlight language-python"><span class="n">send_body</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="o">*</span><span class="n">others</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">content_type</span><span class="o">=</span><span class="n">ContentType</span><span class="p">(</span><span class="n">media_type</span><span class="o">=</span><span class="s1">&#39;text/plain&#39;</span><span class="p">,</span> <span class="n">charset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">boundary</span><span class="o">=</span><span class="kc">None</span><span class="p">),</span> <span class="n">status</span><span class="o">=&lt;</span><span class="n">HTTPStatus</span><span class="o">.</span><span class="n">OK</span><span class="p">:</span> <span class="mi">200</span><span class="o">&gt;</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Set given binary to the response body.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the parameter <code>content_type</code> is specified, then
the <code>Content-Type</code> header is to be added.</p>
<p><code>DEFAULT_CONTENT_TYPE_PLAIN</code> has its MIME type of <code>text/plain</code>,
and the other attributes are <code>None</code>. If another value of
<code>Content-Type</code> is needed, then you should generate new
<code>ContentType</code> instance with attributes you want.</p>
</div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>body</code></td>
        <td><code>t.Union[bytes, t.Iterable[bytes]]</code></td>
        <td><p>Binary to be set to the response body.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>content_type</code></td>
        <td><code>t.Optional[ContentType]</code></td>
        <td><p><code>Content-Type</code> header to be sent.</p></td>
        <td><code>ContentType(media_type=&#39;text/plain&#39;, charset=None, boundary=None)</code></td>
      </tr>
      <tr>
        <td><code>status</code></td>
        <td><code>HTTPStatus</code></td>
        <td><p>HTTP status of the response.</p></td>
        <td><code>&lt;HTTPStatus.OK: 200&gt;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>StatusCodeAlreadySetError</code></td>
        <td><p>Raised if response status code has
already been set.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">send_body</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">body</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">bytes</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]],</span>
    <span class="o">*</span><span class="n">others</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">bytes</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]],</span>
    <span class="n">content_type</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">ContentType</span><span class="p">]</span> <span class="o">=</span> <span class="n">DEFAULT_CONTENT_TYPE_PLAIN</span><span class="p">,</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">HTTPStatus</span> <span class="o">=</span> <span class="n">HTTPStatus</span><span class="o">.</span><span class="n">OK</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Set given binary to the response body.</span>

<span class="sd">    Note:</span>
<span class="sd">        If the parameter `content_type` is specified, then</span>
<span class="sd">        the `Content-Type` header is to be added.</span>

<span class="sd">        `DEFAULT_CONTENT_TYPE_PLAIN` has its MIME type of `text/plain`,</span>
<span class="sd">        and the other attributes are `None`. If another value of</span>
<span class="sd">        `Content-Type` is needed, then you should generate new</span>
<span class="sd">        `ContentType` instance with attributes you want.</span>

<span class="sd">    Args:</span>
<span class="sd">        body: Binary to be set to the response body.</span>
<span class="sd">        content_type: `Content-Type` header to be sent.</span>
<span class="sd">        status: HTTP status of the response.</span>

<span class="sd">    Raises:</span>
<span class="sd">        StatusCodeAlreadySetError: Raised if response status code has</span>
<span class="sd">            already been set.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_set_status_safely</span><span class="p">(</span><span class="n">status</span><span class="p">)</span>

    <span class="n">bodies</span> <span class="o">=</span> <span class="p">[</span><span class="n">body</span><span class="p">]</span>
    <span class="n">bodies</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">others</span><span class="p">)</span>

    <span class="n">is_all_bytes</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">not_empty</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">bodies</span><span class="p">:</span>
        <span class="n">is_all_bytes</span> <span class="o">&amp;=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">chunk</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">is_all_bytes</span><span class="p">:</span>
            <span class="n">not_empty</span> <span class="o">|=</span> <span class="nb">len</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_res_body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">content_type</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_content_type</span><span class="p">(</span><span class="n">content_type</span><span class="p">)</span>

    <span class="c1"># Content-Length if avalidable</span>
    <span class="k">if</span> <span class="n">is_all_bytes</span> <span class="ow">and</span> <span class="n">not_empty</span><span class="p">:</span>
        <span class="n">length</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="n">bodies</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_content_length</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.HTTPMixIn.send_file">
<code class="highlight language-python"><span class="n">send_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">fname</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">content_type</span><span class="o">=</span><span class="n">ContentType</span><span class="p">(</span><span class="n">media_type</span><span class="o">=</span><span class="s1">&#39;text/plain&#39;</span><span class="p">,</span> <span class="n">charset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">boundary</span><span class="o">=</span><span class="kc">None</span><span class="p">),</span> <span class="n">status</span><span class="o">=&lt;</span><span class="n">HTTPStatus</span><span class="o">.</span><span class="n">OK</span><span class="p">:</span> <span class="mi">200</span><span class="o">&gt;</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Set file to be sent as response.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>str</code></td>
        <td><p>File path.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>fname</code></td>
        <td><code>t.Optional[str]</code></td>
        <td><p>File name to be sent.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>content_type</code></td>
        <td><code>str</code></td>
        <td><p>Content type of the response.</p></td>
        <td><code>ContentType(media_type=&#39;text/plain&#39;, charset=None, boundary=None)</code></td>
      </tr>
      <tr>
        <td><code>status</code></td>
        <td><code>HTTPStatus</code></td>
        <td><p>HTTP status of the response.</p></td>
        <td><code>&lt;HTTPStatus.OK: 200&gt;</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">send_file</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">fname</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">content_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_CONTENT_TYPE_PLAIN</span><span class="p">,</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">HTTPStatus</span> <span class="o">=</span> <span class="n">HTTPStatus</span><span class="o">.</span><span class="n">OK</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Set file to be sent as response.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: File path.</span>
<span class="sd">        fname: File name to be sent.</span>
<span class="sd">        content_type: Content type of the response.</span>
<span class="sd">        status: HTTP status of the response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">file_iter</span> <span class="o">=</span> <span class="n">BufferedFileIterator</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">send_body</span><span class="p">(</span><span class="n">file_iter</span><span class="p">,</span> <span class="n">content_type</span><span class="o">=</span><span class="n">content_type</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="p">)</span>

    <span class="n">length</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getsize</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_header</span><span class="p">(</span><span class="s2">&quot;Content-Length&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">length</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">fname</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_header</span><span class="p">(</span>
            <span class="s2">&quot;Content-Disposition&quot;</span><span class="p">,</span>
            <span class="s2">&quot;attachment&quot;</span><span class="p">,</span>
            <span class="n">filename</span><span class="o">=</span><span class="n">fname</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.HTTPMixIn.send_json">
<code class="highlight language-python"><span class="n">send_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">status</span><span class="o">=&lt;</span><span class="n">HTTPStatus</span><span class="o">.</span><span class="n">OK</span><span class="p">:</span> <span class="mi">200</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Set given json data to the response body.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>body</code></td>
        <td><code>t.Dict[str, t.Any]</code></td>
        <td><p>Json data to be set to the response body.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>status</code></td>
        <td><code>HTTPStatus</code></td>
        <td><p>HTTP status of the response.</p></td>
        <td><code>&lt;HTTPStatus.OK: 200&gt;</code></td>
      </tr>
      <tr>
        <td><code>encoding</code></td>
        <td><code>str</code></td>
        <td><p>Encoding of the Json data.</p></td>
        <td><code>&#39;UTF-8&#39;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>StatusCodeAlreadySetError</code></td>
        <td><p>Raised if response status code
has already been set.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">send_json</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">body</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">HTTPStatus</span> <span class="o">=</span> <span class="n">HTTPStatus</span><span class="o">.</span><span class="n">OK</span><span class="p">,</span>
    <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;UTF-8&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Set given json data to the response body.</span>

<span class="sd">    Args:</span>
<span class="sd">        body: Json data to be set to the response body.</span>
<span class="sd">        status: HTTP status of the response.</span>
<span class="sd">        encoding: Encoding of the Json data.</span>

<span class="sd">    Raises:</span>
<span class="sd">        StatusCodeAlreadySetError: Raised if response status code</span>
<span class="sd">            has already been set.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">body</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">)</span>
    <span class="n">content_type</span> <span class="o">=</span> <span class="n">ContentType</span><span class="p">(</span><span class="n">MediaTypes</span><span class="o">.</span><span class="n">json</span><span class="p">,</span> <span class="n">encoding</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">send_body</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="n">content_type</span><span class="o">=</span><span class="n">content_type</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.HTTPMixIn.send_only_status">
<code class="highlight language-python"><span class="n">send_only_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="o">=&lt;</span><span class="n">HTTPStatus</span><span class="o">.</span><span class="n">OK</span><span class="p">:</span> <span class="mi">200</span><span class="o">&gt;</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Set specified status code to one of response.</p>
<p>This method can be used if a callback doesn't need to send response
body.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>status</code></td>
        <td><code>HTTPStatus</code></td>
        <td><p>HTTP status of the response.</p></td>
        <td><code>&lt;HTTPStatus.OK: 200&gt;</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">send_only_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">:</span> <span class="n">HTTPStatus</span> <span class="o">=</span> <span class="n">HTTPStatus</span><span class="o">.</span><span class="n">OK</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Set specified status code to one of response.</span>

<span class="sd">    This method can be used if a callback doesn&#39;t need to send response</span>
<span class="sd">    body.</span>

<span class="sd">    Args:</span>
<span class="sd">        status: HTTP status of the response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_set_status_safely</span><span class="p">(</span><span class="n">status</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-class">



<h2 class="doc doc-heading" id="bamboo.endpoint.StaticEndpoint">
        <code>StaticEndpoint</code>



</h2>

    <div class="doc doc-contents ">





  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.StaticEndpoint.content_type">
<code class="highlight language-python"><span class="n">content_type</span><span class="p">:</span> <span class="n">ContentType</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Content type of request body.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ContentType</code></td>
      <td><p>Content type if existing, None otherwise.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>







  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.StaticEndpoint.setup">
<code class="highlight language-python"><span class="n">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">doc_root</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Execute setup of the endpoint object.</p>
<p>This method will execute at initialization of the object by specifying
parcel. The parcel is sent with <code>set_parcel()</code> method of
the application object which has included the object as one of
the its endpoints. This method can be used as a substitute for
the <code>__init__</code> method.</p>
<p>This method is useful in some cases like below:</p>
<ul>
<li>Making an endpoint class a reusable component</li>
<li>Injecting environmental dependencies using something like a
    setting file</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>*parcel</code></td>
        <td><code></code></td>
        <td><p>Parcel sent via application object.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="n">app</span> <span class="o">=</span> <span class="n">WSGIApp</span><span class="p">()</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">HelloEndpoint</span><span class="p">(</span><span class="n">WSGIEndpoint</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_server_name</span> <span class="o">=</span> <span class="n">server_name</span>

    <span class="k">def</span> <span class="nf">do_GET</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">send_body</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hello from </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_server_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">SERVER_NAME</span> <span class="o">=</span> <span class="s2">&quot;awesome_server&quot;</span>
    <span class="n">app</span><span class="o">.</span><span class="n">set_parcel</span><span class="p">(</span><span class="n">HelloEndpoint</span><span class="p">,</span> <span class="n">SERVER_NAME</span><span class="p">)</span>

    <span class="n">WSGITestExecutor</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">8000</span><span class="p">)</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">doc_root</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">doc_root</span><span class="p">,</span> <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_content_type</span> <span class="o">=</span> <span class="n">ContentType</span><span class="p">(</span><span class="n">file2mime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_filepath</span><span class="p">))</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">DEFAULT_NOT_FOUND_ERROR</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 class="doc doc-heading" id="bamboo.endpoint.StaticRedirectASGIEndpoint">
        <code>StaticRedirectASGIEndpoint</code>



</h2>

    <div class="doc doc-contents ">





  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.StaticRedirectASGIEndpoint.setup">
<code class="highlight language-python"><span class="n">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">doc_root</span><span class="p">,</span> <span class="n">suffix</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Execute setup of the endpoint object.</p>
<p>This method will execute at initialization of the object by specifying
parcel. The parcel is sent with <code>set_parcel()</code> method of
the application object which has included the object as one of
the its endpoints. This method can be used as a substitute for
the <code>__init__</code> method.</p>
<p>This method is useful in some cases like below:</p>
<ul>
<li>Making an endpoint class a reusable component</li>
<li>Injecting environmental dependencies using something like a
    setting file</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>*parcel</code></td>
        <td><code></code></td>
        <td><p>Parcel sent via application object.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="n">app</span> <span class="o">=</span> <span class="n">WSGIApp</span><span class="p">()</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">HelloEndpoint</span><span class="p">(</span><span class="n">WSGIEndpoint</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_server_name</span> <span class="o">=</span> <span class="n">server_name</span>

    <span class="k">def</span> <span class="nf">do_GET</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">send_body</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hello from </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_server_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">SERVER_NAME</span> <span class="o">=</span> <span class="s2">&quot;awesome_server&quot;</span>
    <span class="n">app</span><span class="o">.</span><span class="n">set_parcel</span><span class="p">(</span><span class="n">HelloEndpoint</span><span class="p">,</span> <span class="n">SERVER_NAME</span><span class="p">)</span>

    <span class="n">WSGITestExecutor</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">8000</span><span class="p">)</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">doc_root</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">suffix</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">doc_root</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_suffix</span> <span class="o">=</span> <span class="n">suffix</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 class="doc doc-heading" id="bamboo.endpoint.StaticRedirectWSGIEndpoint">
        <code>StaticRedirectWSGIEndpoint</code>



</h2>

    <div class="doc doc-contents ">





  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.StaticRedirectWSGIEndpoint.setup">
<code class="highlight language-python"><span class="n">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">doc_root</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Execute setup of the endpoint object.</p>
<p>This method will execute at initialization of the object by specifying
parcel. The parcel is sent with <code>set_parcel()</code> method of
the application object which has included the object as one of
the its endpoints. This method can be used as a substitute for
the <code>__init__</code> method.</p>
<p>This method is useful in some cases like below:</p>
<ul>
<li>Making an endpoint class a reusable component</li>
<li>Injecting environmental dependencies using something like a
    setting file</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>*parcel</code></td>
        <td><code></code></td>
        <td><p>Parcel sent via application object.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="n">app</span> <span class="o">=</span> <span class="n">WSGIApp</span><span class="p">()</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">HelloEndpoint</span><span class="p">(</span><span class="n">WSGIEndpoint</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_server_name</span> <span class="o">=</span> <span class="n">server_name</span>

    <span class="k">def</span> <span class="nf">do_GET</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">send_body</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hello from </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_server_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">SERVER_NAME</span> <span class="o">=</span> <span class="s2">&quot;awesome_server&quot;</span>
    <span class="n">app</span><span class="o">.</span><span class="n">set_parcel</span><span class="p">(</span><span class="n">HelloEndpoint</span><span class="p">,</span> <span class="n">SERVER_NAME</span><span class="p">)</span>

    <span class="n">WSGITestExecutor</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">8000</span><span class="p">)</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">doc_root</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">doc_root</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h2 class="doc doc-heading" id="bamboo.endpoint.StatusCodeAlreadySetError">
        <code>StatusCodeAlreadySetError</code>



</h2>

    <div class="doc doc-contents ">

      <p>Raised if response status code has already been set.</p>



    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 class="doc doc-heading" id="bamboo.endpoint.WSGIEndpoint">
        <code>WSGIEndpoint</code>



</h2>

    <div class="doc doc-contents ">

      <p>HTTP endpoint class compliant with the WSGI.</p>
<p>This class is a complete class of endpoints, communicating on HTTP.
This class has all attributes of <code>WSGIEndpointBase</code> and <code>HTTPMixIn</code>,
and you can define its subclass and use them in your response methods.</p>

<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="n">app</span> <span class="o">=</span> <span class="n">WSGIApp</span><span class="p">()</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">HelloEndpoint</span><span class="p">(</span><span class="n">WSGIEndpoint</span><span class="p">):</span>

    <span class="c1"># RECOMMEND to use `data_format` decorator</span>
    <span class="k">def</span> <span class="nf">do_GET</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;greeting&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello, Client!&quot;</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">send_json</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">do_POST</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">req_body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">body</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">req_body</span><span class="p">)</span>
</code></pre></div>




  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.WSGIEndpoint.content_length">
<code class="highlight language-python"><span class="n">content_length</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Content length of request body if existing.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.WSGIEndpoint.method">
<code class="highlight language-python"><span class="n">method</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>HTTP method requested from client.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.WSGIEndpoint.__init__">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">,</span> <span class="n">environ</span><span class="p">,</span> <span class="n">flexible_locs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">


<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>app</code></td>
        <td><code>WSGIApp</code></td>
        <td><p>Application object which routes the endpoint.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>environ</code></td>
        <td><code>t.Dict[str, t.Any]</code></td>
        <td><p>Environ variable received from WSGI server.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>flexible_locs</code></td>
        <td><code>t.Tuple[str, ...]</code></td>
        <td><p>Flexible locations requested.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">app</span><span class="p">:</span> <span class="n">WSGIApp</span><span class="p">,</span>
    <span class="n">environ</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span>
    <span class="n">flexible_locs</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        app: Application object which routes the endpoint.</span>
<span class="sd">        environ: Environ variable received from WSGI server.</span>
<span class="sd">        flexible_locs: Flexible locations requested.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">WSGIEndpointBase</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">,</span> <span class="n">environ</span><span class="p">,</span> <span class="n">flexible_locs</span><span class="p">)</span>
    <span class="n">HTTPMixIn</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.WSGIEndpoint.get_req_body_iter">
<code class="highlight language-python"><span class="n">get_req_body_iter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bufsize</span><span class="o">=</span><span class="mi">8192</span><span class="p">,</span> <span class="n">cache</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Make an access to the request body as an iterator.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the flag <code>cache</code> is <code>True</code>, the request body data is to be
cached into the property <code>body</code>, i.e. one always can access
to the request body even after the iteration. On the other hand,
if the <code>cache</code> is <code>False</code>, caching is not conducted and
access to the <code>body</code> will be failed.</p>
</div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>bufsize</code></td>
        <td><code>int</code></td>
        <td><p>Chunk size of each item.</p></td>
        <td><code>8192</code></td>
      </tr>
      <tr>
        <td><code>cache</code></td>
        <td><code>bool</code></td>
        <td><p>If the request body is to be cached or not.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.Generator[bytes, None, None]</code></td>
      <td><p>Iterator with binary of the request body.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_req_body_iter</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">bufsize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">8192</span><span class="p">,</span>
    <span class="n">cache</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">Generator</span><span class="p">[</span><span class="nb">bytes</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Make an access to the request body as an iterator.</span>

<span class="sd">    Note:</span>
<span class="sd">        If the flag `cache` is `True`, the request body data is to be</span>
<span class="sd">        cached into the property `body`, i.e. one always can access</span>
<span class="sd">        to the request body even after the iteration. On the other hand,</span>
<span class="sd">        if the `cache` is `False`, caching is not conducted and</span>
<span class="sd">        access to the `body` will be failed.</span>

<span class="sd">    Args:</span>
<span class="sd">        bufsize: Chunk size of each item.</span>
<span class="sd">        cache: If the request body is to be cached or not.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Iterator with binary of the request body.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">stream</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_req_body_stream</span><span class="p">()</span>
    <span class="n">cacher</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">body</span>
    <span class="n">length</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">content_length</span>
    <span class="n">remain</span> <span class="o">=</span> <span class="n">length</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">length</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">chunk</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">bufsize</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">remain</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">counts</span> <span class="o">=</span> <span class="n">remain</span> <span class="k">if</span> <span class="n">remain</span> <span class="o">&lt;</span> <span class="n">bufsize</span> <span class="k">else</span> <span class="n">bufsize</span>
            <span class="n">chunk</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">counts</span><span class="p">)</span>
            <span class="n">remain</span> <span class="o">-=</span> <span class="nb">len</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">chunk</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="k">yield</span> <span class="n">chunk</span>

        <span class="c1"># TODO</span>
        <span class="c1">#   Seek more efficient ways</span>
        <span class="k">if</span> <span class="n">cache</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">cacher</span><span class="o">.</span><span class="n">_has_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="n">chunk</span> <span class="o">=</span> <span class="n">cacher</span><span class="o">.</span><span class="n">_get_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">+</span> <span class="n">chunk</span>

            <span class="n">cacher</span><span class="o">.</span><span class="n">_set_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chunk</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.WSGIEndpoint.get_req_body_stream">
<code class="highlight language-python"><span class="n">get_req_body_stream</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Fetch the stream with which request body can be received.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>io.BufferedIOBase</code></td>
      <td><p>The stream with request body.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_req_body_stream</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">io</span><span class="o">.</span><span class="n">BufferedIOBase</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Fetch the stream with which request body can be received.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The stream with request body.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;wsgi.input&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 class="doc doc-heading" id="bamboo.endpoint.WSGIEndpointBase">
        <code>WSGIEndpointBase</code>



</h2>

    <div class="doc doc-contents ">

      <p>Base class of endpoints compliant with the WSGI.</p>
<p>This class implements abstract methods of <code>EndpointBase</code> with the WSGI.
However, this class doesn't implement some methods to structure responses.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>DO NOT use this class as the super class of your endpoints. Consider
to use subclasses of the class like <code>WSGIEndpoint</code>.</p>
</div>




  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.WSGIEndpointBase.environ">
<code class="highlight language-python"><span class="n">environ</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>environ variable received from WSGI server.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.WSGIEndpointBase.http_version">
<code class="highlight language-python"><span class="n">http_version</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>HTTP Version on communication.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.WSGIEndpointBase.path">
<code class="highlight language-python"><span class="n">path</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Path of requested URI.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.WSGIEndpointBase.scheme">
<code class="highlight language-python"><span class="n">scheme</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Scheme of requested URI.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.WSGIEndpointBase.server_software">
<code class="highlight language-python"><span class="n">server_software</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Software name of WSGI server.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="bamboo.endpoint.WSGIEndpointBase.wsgi_version">
<code class="highlight language-python"><span class="n">wsgi_version</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>WSGI version number.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.WSGIEndpointBase.__init__">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">,</span> <span class="n">environ</span><span class="p">,</span> <span class="n">flexible_locs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">


<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>environ</code></td>
        <td><code>t.Dict[str, t.Any]</code></td>
        <td><p>environ variable received from WSGI server.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>flexible_locs</code></td>
        <td><code>t.Tuple[str, ...]</code></td>
        <td><p>flexible locations requested.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">app</span><span class="p">:</span> <span class="n">WSGIApp</span><span class="p">,</span>
    <span class="n">environ</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span>
    <span class="n">flexible_locs</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        environ: environ variable received from WSGI server.</span>
<span class="sd">        flexible_locs: flexible locations requested.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_environ</span> <span class="o">=</span> <span class="n">environ</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">flexible_locs</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.WSGIEndpointBase.get_client_addr">
<code class="highlight language-python"><span class="n">get_client_addr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Retrieve client address, pair of its IP address and port.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>IP address and port may be None if retrieving the address from
server application would fail, so it is recommended to confirm
your using server application's spec.</p>
</div>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.Tuple[t.Optional[str], t.Optional[int]]</code></td>
      <td><p>Pair of IP and port of client.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_client_addr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
    <span class="n">client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;REMOTE_ADDR&quot;</span><span class="p">)</span>
    <span class="n">port</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;REMOTE_PORT&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">port</span><span class="p">:</span>
        <span class="n">port</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">port</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.WSGIEndpointBase.get_header">
<code class="highlight language-python"><span class="n">get_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Retrive header value from requested headers.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>Header name.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.Optional[str]</code></td>
      <td><p>Value of header if existing, None otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;CONTENT_TYPE&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">content_type</span>
    <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;CONTENT_LENGTH&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;CONTENT_LENGTH&quot;</span><span class="p">)</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;HTTP_&quot;</span> <span class="o">+</span> <span class="n">name</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.WSGIEndpointBase.get_host_addr">
<code class="highlight language-python"><span class="n">get_host_addr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Retrive host name and port from requested headers.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.Tuple[t.Optional[str], t.Optional[int]]</code></td>
      <td><p>Pair of host name and port.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_host_addr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
    <span class="n">http_host</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;HTTP_HOST&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">http_host</span><span class="p">:</span>
        <span class="n">http_host</span> <span class="o">=</span> <span class="n">http_host</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">http_host</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">http_host</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">host</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="n">http_host</span>
            <span class="n">port</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">port</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="bamboo.endpoint.WSGIEndpointBase.get_server_addr">
<code class="highlight language-python"><span class="n">get_server_addr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Retrive server address, pair of its IP address and port.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>IP address and port may be None if retrieving the address from
server application would fail, so it is recommended to confirm
your using server application's spec.</p>
</div>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>t.Tuple[t.Optional[str], t.Optional[int]]</code></td>
      <td><p>Pair of IP and port of server.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bamboo/endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_server_addr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">t</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
    <span class="n">server</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;SERVER_NAME&quot;</span><span class="p">)</span>
    <span class="n">port</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;SERVER_PORT&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">port</span><span class="p">:</span>
        <span class="n">port</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">port</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>









  </div>

    </div>

  </div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="フッター">
      
        
        <a href="../asgi/" class="md-footer__link md-footer__link--prev" aria-label="前: asgi" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                前
              </span>
              asgi
            </div>
          </div>
        </a>
      
      
        
        <a href="../error/" class="md-footer__link md-footer__link--next" aria-label="次: error" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                次
              </span>
              error
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2021 Yunhyeon Jeong
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/jjj999/bamboo" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.tabs", "navigation.expand", "navigation.top", "search.highlight"], "translations": {"clipboard.copy": "\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u3078\u30b3\u30d4\u30fc", "clipboard.copied": "\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\s\\-\u3000\u3001\u3002\uff0c\uff0e]+", "search.placeholder": "\u691c\u7d22", "search.result.placeholder": "\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044", "search.result.none": "\u4f55\u3082\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f", "search.result.one": "1\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.other": "#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.more.one": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3082\u30461\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.more.other": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3042\u3068#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.term.missing": "\u691c\u7d22\u306b\u542b\u307e\u308c\u306a\u3044", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.477d984a.min.js", "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.ddd52ceb.min.js"></script>
      
    
  </body>
</html>